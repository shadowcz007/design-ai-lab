{
  "id": "4c28836a5728d77c47b02b4f755543b0b0389172",
  "poster": "data:image/png;base64,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",
  "title": "图片工具",
  "knowledge": {
    "course": "- 把文本转成图片\n- 通过图片转base64，并压缩,直接把生成结果写入剪切板",
    "readme": "图片工具",
    "author": "shadow",
    "version": "0.3.0"
  },
  "code": "var _IMG_URL;\n\nfunction gui() {\n    // maindiv\n    let maindiv = Lab.ui.createGroup();\n\n    let titleStyle = `font-size: 18px;\n    font-weight: 800;`;\n    // \n    let titleForInput = Lab.ui.createBaseText('1 从文字生成图片');\n    titleForInput.style = titleStyle\n        // 文本\n    let titleInput = Lab.ui.createInput('text', '输入', ts => {\n        if (ts && ts[0]) {\n            let title = Lab.ui.createTextCanvas(ts[0]);\n            let base64 = title.toDataURL();\n            Lab.ui.toast('已写入剪切板');\n            Lab.clipboard.write(base64, 'base64');\n        }\n    });\n\n    // 图片\n    let titleImagePro = Lab.ui.createBaseText('2 转base64');\n    titleImagePro.style = titleStyle;\n\n    let inputDiv = Lab.ui.createGroup();\n    inputDiv.style = `display: flex;\n    justify-content: space-around;\n    align-items: center;`;\n    // 上传控件\n    let input = Lab.ui.createInput('img', \"图片\", url => _IMG_URL = url, true);\n    let pasteBtn = Lab.ui.createButton('从剪切板拷贝图片', () => {\n        let im = Lab.clipboard.read('img');\n        if (im && im.getSize() && (im.getSize()).width > 0) {\n            Lab.ui.loading(0);\n            _IMG_URL = im.toDataURL();\n            input.setDefaultValue([_IMG_URL]);\n            size.setDefaultValue([im.getSize().width]);\n            Lab.ui.loading(100);\n        };\n    });\n    let pasteUrlBtn = Lab.ui.createButton('从剪切板URL', async() => {\n        let url = Lab.clipboard.read('text');\n        if (url) {\n            Lab.ui.loading(0);\n            _IMG_URL = await Lab.Image.getNativeImageFromWebview2(url);\n            let im = await Lab.Image.createImage(_IMG_URL);\n            input.setDefaultValue([_IMG_URL]);\n            size.setDefaultValue([im.naturalWidth]);\n            Lab.ui.loading(100);\n        };\n\n    });\n    window.input = input;\n    // \n    let innerImageBtn = Lab.ui.createButton('运行', async() => {\n        let width = ~~size.querySelector('input').value;\n        if (!_IMG_URL) _IMG_URL = input.getValue();\n        await createInnerImage(_IMG_URL, width);\n    });\n    //创建输入\n    let size = Lab.ui.createInput('text', '固定宽度');\n\n\n    Lab.ui.add(maindiv);\n    maindiv.add(Lab.ui.createDivider());\n    maindiv.add(titleForInput);\n    maindiv.add(titleInput);\n    maindiv.add(Lab.ui.createDivider());\n    maindiv.add(Lab.ui.createDivider());\n    maindiv.add(titleImagePro);\n    maindiv.add(inputDiv);\n    inputDiv.add(input);\n    inputDiv.add(pasteBtn);\n    inputDiv.add(pasteUrlBtn);\n\n    maindiv.add(size);\n    maindiv.add(Lab.ui.createDivider());\n    maindiv.add(innerImageBtn);\n\n}\n\n\n// \nasync function createInnerImage(base64, width = 300) {\n    // 用于压缩图片\n    Lab.ui.loading(0);\n    let img = await Lab.ui.createImage(base64);\n    // console.log(img)\n    // console.log(img.naturalWidth)\n    if (img.naturalWidth > width) {\n        let height = parseInt(img.naturalHeight * width / img.naturalWidth);\n        let canvas = Lab.ui.createCanvas(100, 100, 'canvas', 'myCanvas', true);\n        let ctx = canvas.getContext('2d');\n        canvas.width = width;\n        canvas.height = height;\n        ctx.drawImage(img, 0, 0, width, height);\n        base64 = canvas.toDataURL();\n    } else {\n        width = img.naturalWidth;\n    }\n    // let html = `<img src='${base64}' style='width:${width}px;height:${height}px'/>`;\n    Lab.ui.toast(`宽度${width}px 已写入剪切板`);\n    Lab.clipboard.write(base64, 'base64');\n    Lab.ui.loading(100);\n\n    let {id,name}=Lab.base.getAppId();\n    let s=new Lab.Store();\n    if(id) s.set(id,{\n        id,name,data:base64\n    })\n}",
  "code_length": 41,
  "size": [
    400,
    513
  ],
  "extname": "designlabplugin",
  "version": "0.3.0",
  "package_version": "0.1.2",
  "package_id": "365f1a1f388d814a40f2ca12a9abe7b04daa7f52",
  "dependencies": {
    "@ffmpeg-installer/ffmpeg": "^1.0.20",
    "@ffprobe-installer/ffprobe": "^1.1.0",
    "@fortawesome/fontawesome-free": "^5.15.3",
    "@hapi/hapi": "^20.1.2",
    "@node-rs/jieba": "^1.2.0",
    "@paddlejs-models/humanseg": "0.0.5",
    "@tensorflow-models/body-pix": "^2.1.0",
    "@tensorflow-models/deeplab": "^0.2.1",
    "@tensorflow-models/face-landmarks-detection": "0.0.1",
    "@tensorflow-models/knn-classifier": "^1.2.2",
    "@tensorflow-models/mobilenet": "^2.1.0",
    "@tensorflow-models/posenet": "^2.2.2",
    "@tensorflow/tfjs": "^3.3.0",
    "@tensorflow/tfjs-backend-wasm": "^3.3.0",
    "about-window": "^1.14.0",
    "animejs": "^3.2.1",
    "color": "^3.1.3",
    "electron-json-storage": "^4.4.0",
    "electron-squirrel-startup": "^1.0.0",
    "emoji-picker-element": "^1.6.0",
    "emoji-regex": "^9.2.2",
    "espree": "^7.3.1",
    "exceljs": "^4.2.1",
    "face-api.js": "^0.22.2",
    "fluent-ffmpeg": "^2.1.2",
    "fomantic-ui": "^2.8.7",
    "gif.js": "^0.2.0",
    "gifuct-js": "^2.1.1",
    "horajs": "^0.1.3",
    "idb-kv-store": "^4.5.0",
    "internal-ip": "^6.2.0",
    "jimp": "^0.16.1",
    "lowdb": "^1.0.0",
    "make-cert": "^1.2.0",
    "marked": "^1.2.9",
    "md5": "^2.3.0",
    "mime-types": "^2.1.30",
    "mkcert": "^1.4.0",
    "ml": "^6.0.0",
    "natural": "^5.0.3",
    "ngraph.path": "^1.3.1",
    "nouislider": "^14.7.0",
    "object-hash": "^2.1.1",
    "opencvjs-dist": "^4.4.0",
    "osc-js": "^2.1.2",
    "pdfjs-dist": "^2.6.347",
    "peer": "^0.6.1",
    "peerjs": "^1.3.2",
    "recordrtc": "^5.6.2",
    "regl": "^2.1.0",
    "smartcrop": "^2.0.3",
    "socket.io": "^4.0.0",
    "socket.io-client": "^4.0.0",
    "timeago.js": "^4.0.2",
    "unsplash-js": "^7.0.12",
    "wordcloud": "^1.2.2",
    "yoga-layout-wasm": "^1.9.3-alpha.7",
    "zdog": "^1.1.2"
  },
  "author": "shadow",
  "create_time": 1631096882615
}