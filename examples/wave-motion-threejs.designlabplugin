{
  "id": "33235a735fafa23d9283148aab70a104d9ba9454",
  "poster": "data:image/png;base64,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",
  "title": "wave-motion-threejs",
  "knowledge": {
    "course": "",
    "readme": "wave-motion-threejs",
    "author": "shadow",
    "version": "0.1"
  },
  "code": "var threejs = Lab.base.loadFromLocal('three/build/three.min.js').then(() => {\n  console.log('load threejs')\n  return Promise.all([\n    Lab.base.loadFromLocal('three/examples/js/controls/OrbitControls.js'),\n    Lab.base.loadFromLocal('three/examples/js/postprocessing/EffectComposer.js')\n  ])\n})\n\nconst glsl = {\n  vertex1: `precision mediump float;\n\n        varying vec2 vUv;\n        \n        void main() {\n        vUv = uv;\n\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n        }`,\n  vertex2:`\n  precision mediump float;\n\nvarying vec2 vUv;\nuniform float uTime;\n\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x) {\n     return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise(vec3 v) {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n  \n  // First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n  \n  // Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n  \n  // Permutations\n  i = mod289(i);\n  vec4 p = permute( permute( permute(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n           \n  // Gradients: 7x7 points over a square, mapped onto an octahedron.\n  // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n  \n  // Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n  \n  // Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n}\n\nvoid main() {\n  vUv = uv;\n\n  vec3 pos = position;\n  float noiseFreq = 3.5;\n  float noiseAmp = 0.15; \n  vec3 noisePos = vec3(pos.x * noiseFreq + uTime, pos.y, pos.z);\n  pos.z += snoise(noisePos) * noiseAmp;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.);\n}`,\n  vertex3:`precision mediump float;\n\n  varying vec2 vUv;\n  varying float vWave;\n  uniform float uTime;\n  \n  //\n  // Description : Array and textureless GLSL 2D/3D/4D simplex\n  //               noise functions.\n  //      Author : Ian McEwan, Ashima Arts.\n  //  Maintainer : ijm\n  //     Lastmod : 20110822 (ijm)\n  //     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n  //               Distributed under the MIT License. See LICENSE file.\n  //               https://github.com/ashima/webgl-noise\n  //\n  \n  vec3 mod289(vec3 x) {\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n  }\n  \n  vec4 mod289(vec4 x) {\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n  }\n  \n  vec4 permute(vec4 x) {\n       return mod289(((x*34.0)+1.0)*x);\n  }\n  \n  vec4 taylorInvSqrt(vec4 r)\n  {\n    return 1.79284291400159 - 0.85373472095314 * r;\n  }\n  \n  float snoise(vec3 v) {\n    const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n    const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n    \n    // First corner\n    vec3 i  = floor(v + dot(v, C.yyy) );\n    vec3 x0 =   v - i + dot(i, C.xxx) ;\n    \n    // Other corners\n    vec3 g = step(x0.yzx, x0.xyz);\n    vec3 l = 1.0 - g;\n    vec3 i1 = min( g.xyz, l.zxy );\n    vec3 i2 = max( g.xyz, l.zxy );\n  \n    //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n    //   x1 = x0 - i1  + 1.0 * C.xxx;\n    //   x2 = x0 - i2  + 2.0 * C.xxx;\n    //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n    vec3 x1 = x0 - i1 + C.xxx;\n    vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n    vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n    \n    // Permutations\n    i = mod289(i);\n    vec4 p = permute( permute( permute(\n               i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n             + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n             + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n             \n    // Gradients: 7x7 points over a square, mapped onto an octahedron.\n    // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n    float n_ = 0.142857142857; // 1.0/7.0\n    vec3  ns = n_ * D.wyz - D.xzx;\n  \n    vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n  \n    vec4 x_ = floor(j * ns.z);\n    vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n  \n    vec4 x = x_ *ns.x + ns.yyyy;\n    vec4 y = y_ *ns.x + ns.yyyy;\n    vec4 h = 1.0 - abs(x) - abs(y);\n  \n    vec4 b0 = vec4( x.xy, y.xy );\n    vec4 b1 = vec4( x.zw, y.zw );\n  \n    //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n    //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n    vec4 s0 = floor(b0)*2.0 + 1.0;\n    vec4 s1 = floor(b1)*2.0 + 1.0;\n    vec4 sh = -step(h, vec4(0.0));\n  \n    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n  \n    vec3 p0 = vec3(a0.xy,h.x);\n    vec3 p1 = vec3(a0.zw,h.y);\n    vec3 p2 = vec3(a1.xy,h.z);\n    vec3 p3 = vec3(a1.zw,h.w);\n    \n    // Normalise gradients\n    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n    p0 *= norm.x;\n    p1 *= norm.y;\n    p2 *= norm.z;\n    p3 *= norm.w;\n    \n    // Mix final noise value\n    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n    m = m * m;\n    return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                  dot(p2,x2), dot(p3,x3) ) );\n  }\n  \n  void main() {\n    vUv = uv;\n  \n    vec3 pos = position;\n    float noiseFreq = 3.5;\n    float noiseAmp = 0.15; \n    vec3 noisePos = vec3(pos.x * noiseFreq + uTime, pos.y, pos.z);\n    pos.z += snoise(noisePos) * noiseAmp;\n    vWave = pos.z;\n  \n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n  }`,\n  fragment1: `precision mediump float;\n\n    varying vec2 vUv;\n    \n    void main() {\n      gl_FragColor = vec4(0., 0., 0., 1.);\n    }`,\n   fragment2:`\n   precision mediump float;\n   varying vec2 vUv;\n   uniform sampler2D uTexture;\n   \n   void main() {\n     vec3 texture = texture2D(uTexture, vUv).rgb;\n     gl_FragColor = vec4(texture, 1.);\n   }`,\n   fragment3:`precision mediump float;\n\n   varying vec2 vUv;\n   varying float vWave;\n   uniform sampler2D uTexture;\n   \n   void main() {\n     float wave = vWave * 0.25;\n     vec3 texture = texture2D(uTexture, vUv + wave).rgb;\n     gl_FragColor = vec4(texture, 1.);\n   }`,\n   fragment4:`\n\n   varying vec2 vUv;\n   varying float vWave;\n   uniform sampler2D uTexture;\n   \n   void main() {\n     float wave = vWave * 0.25;\n     \n     // Split each texture color vector 分离颜色\n    float r = texture2D(uTexture, vUv).r;\n    float g = texture2D(uTexture, vUv + wave).g;\n    float b = texture2D(uTexture, vUv + wave).b;\n    // Put them back together 然后颜色再组合在一起\n    vec3 texture = vec3(r, g, b);\n\n     gl_FragColor = vec4(texture, 1.);\n   }\n  `\n};\n\n\n\n\nclass Gl {\n    constructor (canvas) {\n      this.scene = new THREE.Scene()\n      this.camera = new THREE.PerspectiveCamera(\n        45,\n        window.innerWidth / window.innerHeight,\n        0.1,\n        100\n      )\n      this.camera.position.z = 1\n      this.renderer = new THREE.WebGLRenderer({\n        canvas: canvas,\n        antialias: true\n      })\n      this.renderer.setSize(window.innerWidth, window.innerHeight)\n      this.renderer.setClearColor(0xffffff, 1)\n  \n      this.clock = new THREE.Clock()\n      this.controls = new THREE.OrbitControls(\n        this.camera,\n        this.renderer.domElement\n      )\n  \n      this.onResize()\n    }\n  \n    init () {\n      this.createMesh()\n      this.addEvents()\n    }\n  \n    createMesh () {\n      this.geometry = new THREE.PlaneGeometry(0.4, 0.6, 16, 16)\n      this.material = new THREE.ShaderMaterial({\n        vertexShader: glsl.vertex1,\n        fragmentShader: glsl.fragment1,\n        uniforms: {\n          uTime: { value: 0.0 },\n          //增加纹理\n          uTexture: { \n              value: null\n            },\n        },\n        // \n        wireframe: true,\n        side: THREE.DoubleSide\n      });\n      \n      this.mesh = new THREE.Mesh(this.geometry, this.material);\n      this.scene.add(this.mesh)\n    }\n  \n    addEvents () {\n      window.requestAnimationFrame(this.run.bind(this))\n      window.addEventListener('resize', this.onResize.bind(this), false)\n    }\n  \n    run () {\n      requestAnimationFrame(this.run.bind(this))\n      this.render()\n    }\n  \n    render () {\n        this.material.uniforms.uTime.value = this.clock.getElapsedTime();\n        this.renderer.render(this.scene, this.camera);    \n    }\n  \n    onResize () {\n      const w = window.innerWidth\n      const h = window.innerHeight\n  \n      this.camera.aspect = w / h\n      this.camera.updateProjectionMatrix()\n  \n      this.renderer.setSize(w, h)\n    }\n  }\n  \n// window.img;\n\n//Hello AI world!\nfunction gui () {\n  //   let h = Lab.ui.createHeader(1, 'HELLO AI WORLD')\n  //   Lab.ui.add(h)\n  threejs.then(() => {\n    // console.log(111);\n    let canvas=Lab.ui.createCanvas(window.innerWidth,window.innerHeight,'app','app',true);\n    Lab.ui.add(canvas);\n\n    const scene = new Gl(canvas);\n    scene.init();\n// console.log()\nwindow.scene=scene;\n\n    const gui = Lab.ui.createDatGUI();\n    let params={\n        stepFun:()=>{\n            params.step++;\n            if(params.step>5) params.step=1;\n        },\n        step:1,\n        imgInput:()=>{\n            let imgurl=Lab.ui.getFilePath(1);\n            if(imgurl) {\n                //增加纹理\n                scene.material.uniforms.uTexture={\n                    value:new THREE.TextureLoader().load(imgurl)\n                }\n                // console.log(scene.material.uniforms.uTexture)\n            }\n        }\n    };\n    gui.add(params,'stepFun').name('步骤').onFinishChange(()=>{\n        console.log(params.step);\n        params.step!=4?scene.material.vertexShader=glsl[`vertex${params.step}`]:null;\n        scene.material.fragmentShader=glsl[`fragment${params.step}`];\n        scene.material.wireframe=(params.step===1);\n        if(params.step===5){\n            scene.material.vertexShader=glsl.vertex2;\n            scene.material.fragmentShader=glsl.fragment4;\n        }\n        // 需要手动触发更新\n        scene.material.needsUpdate = true;\n    });\n    gui.add(params, 'imgInput').name('打开图片').onFinishChange(() =>  console.log(params));\n\n  });\n\n  \n\n}\n",
  "code_length": 12,
  "size": [
    400,
    400
  ],
  "extname": "designlabplugin",
  "version": "0.1",
  "package_version": "0.1.2",
  "package_id": "df22ad54c8e3dee49e71dd4ce9538ee33b2a7d1e",
  "dependencies": {
    "@ffmpeg-installer/ffmpeg": "^1.0.20",
    "@ffprobe-installer/ffprobe": "^1.1.0",
    "@fortawesome/fontawesome-free": "^5.15.3",
    "@hapi/hapi": "^20.1.2",
    "@kilokilo/three-bmfont-text": "^3.1.0",
    "@mediapipe/camera_utils": "^0.3.1632432234",
    "@mediapipe/drawing_utils": "^0.3.1620248257",
    "@mediapipe/holistic": "^0.5.1635989137",
    "@node-rs/jieba": "^1.3.1",
    "@paddlejs-models/humanseg": "0.0.5",
    "@pixiv/three-vrm": "^0.6.7",
    "@tensorflow-models/body-pix": "^2.1.0",
    "@tensorflow-models/deeplab": "^0.2.1",
    "@tensorflow-models/face-landmarks-detection": "0.0.1",
    "@tensorflow-models/knn-classifier": "^1.2.2",
    "@tensorflow-models/mobilenet": "^2.1.0",
    "@tensorflow-models/posenet": "^2.2.2",
    "@tensorflow/tfjs": "^3.3.0",
    "@tensorflow/tfjs-backend-wasm": "^3.3.0",
    "about-window": "^1.14.0",
    "animejs": "^3.2.1",
    "color": "^3.1.3",
    "dat.gui": "^0.7.7",
    "debounce": "^1.2.1",
    "electron-json-storage": "^4.4.0",
    "electron-squirrel-startup": "^1.0.0",
    "emoji-picker-element": "^1.6.0",
    "emoji-regex": "^9.2.2",
    "espree": "^7.3.1",
    "exceljs": "^4.2.1",
    "face-api.js": "^0.22.2",
    "fluent-ffmpeg": "^2.1.2",
    "fomantic-ui": "^2.8.7",
    "gif.js": "^0.2.0",
    "gifuct-js": "^2.1.1",
    "horajs": "^0.1.3",
    "idb-kv-store": "^4.5.0",
    "internal-ip": "^6.2.0",
    "jimp": "^0.16.1",
    "kalidokit": "^1.0.5",
    "lowdb": "^1.0.0",
    "make-cert": "^1.2.0",
    "marked": "^1.2.9",
    "md5": "^2.3.0",
    "mime-types": "^2.1.30",
    "mkcert": "^1.4.0",
    "ml": "^6.0.0",
    "natural": "^5.0.3",
    "ngraph.path": "^1.3.1",
    "nouislider": "^14.7.0",
    "object-hash": "^2.1.1",
    "opencvjs-dist": "^4.4.0",
    "osc-js": "^2.1.2",
    "pdfjs-dist": "^2.6.347",
    "peer": "^0.6.1",
    "peerjs": "^1.3.2",
    "pixelit": "https://github.com/giventofly/pixelit.git",
    "recordrtc": "^5.6.2",
    "regl": "^2.1.0",
    "smartcrop": "^2.0.3",
    "socket.io": "^4.0.0",
    "socket.io-client": "^4.0.0",
    "three": "^0.134.0",
    "timeago.js": "^4.0.2",
    "unsplash-js": "^7.0.12",
    "wordcloud": "^1.2.2",
    "yoga-layout-wasm": "^1.9.3-alpha.7",
    "zdog": "^1.1.2"
  },
  "author": "shadow",
  "create_time": 1639729637053
}