{
  "poster": "data:image/png;base64,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",
  "title": "文本动图合成",
  "knowledge": {
    "course": "合成各种动图版的文字",
    "readme": "文本动图合成",
    "author": "shadow",
    "version": "0.4.3"
  },
  "code": "//Hello AI world!\n\nvar isDev = true;\nvar idSelect, targetText;\nvar allParaments = [{\n        id: 0,\n        label: '放大缩小',\n        color:'gray',\n        duration: 2000,\n        maxFontSize: 88,\n        from: {\n            fontSize: 44\n        },\n        to: {\n            fontSize: [44, 88, 44],\n        },\n        frameFun: (ctx, data) => {\n            // let t='😭';\n            let textCanvas = Lab.ui.createTextCanvas2(targetText, {\n                fontSize: data.fontSize\n            });\n            if (isDev) console.log(data);\n            //Lab.ui.add(textCanvas);\n            // textCanvas.style.outline='1px solid red'\n            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n\n            let w = textCanvas.width,\n                h = textCanvas.height,\n                x = parseInt((ctx.canvas.width - w) * 0.5),\n                y = parseInt((ctx.canvas.height - h) * 0.5);\n            ctx.drawImage(\n                textCanvas,\n                0,\n                0,\n                textCanvas.width,\n                textCanvas.height,\n                x,\n                y,\n                w,\n                h);\n        }\n    },\n    {\n        id: 1,\n        label: '逐字输入',\n        color:'gray',\n        easing:'linear',\n        duration: t => t.length *60000/250,\n        endDelay: 0,\n        maxFontSize: 44,\n        from: {\n            x: 0,\n            fontSize: 44\n        },\n        to: {\n            x: [0, 100],\n            fontSize: 44\n        },\n        frameFun: (ctx, data) => {\n            if (isDev) console.log(data);\n            let tx = Array.from(targetText, t => t);\n            tx = tx.slice(0, Math.round(0.01 * data.x * tx.length));\n            // console.log(data.x, tx)\n\n            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n            if (tx.length > 0) {\n                let textCanvas = Lab.ui.createTextCanvas2(tx.join(\"\"), {\n                    fontSize: data.fontSize\n                });\n                let w = textCanvas.width,\n                    h = textCanvas.height,\n                    x = 0,\n                    y = 0;\n                ctx.drawImage(\n                    textCanvas,\n                    0,\n                    0,\n                    textCanvas.width,\n                    textCanvas.height,\n                    x,\n                    y,\n                    w,\n                    h);\n                ctx.fillStyle = 'black';\n                Math.random() > 0.5 ? ctx.fillRect(w + 16, 10, 6, h - 20) : null;\n            }\n\n        }\n    },\n    {\n        id: 2,\n        label: '弹幕款',\n        color:'gray',\n        duration: t => t.length *200,\n        endDelay: 600,\n        easing:'linear',\n        maxFontSize: 44,\n        from: {\n            x: -110,\n            fontSize: 44\n        },\n        to: {\n            x: 110,\n            fontSize: 44\n        },\n        frameFun: (ctx, data) => {\n            if (isDev) console.log(data);\n           \n            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n            if (targetText) {\n                let textCanvas = Lab.ui.createTextCanvas2(targetText, {\n                    fontSize: data.fontSize\n                });\n                let w = textCanvas.width,\n                    h = textCanvas.height,\n                    x = -data.x*0.01*w,\n                    y = 0;\n                ctx.drawImage(\n                    textCanvas,\n                    0,\n                    0,\n                    textCanvas.width,\n                    textCanvas.height,\n                    x,\n                    y,\n                    w,\n                    h);\n                ctx.fillStyle = 'black';\n                // Math.random() > 0.5 ? ctx.fillRect(w + 16, 10, 6, h - 20) : null;\n            }\n\n        }\n    },\n    {\n        id: 3,\n        label: '左右摇摆',\n        color:'gray',\n        duration: 5000,\n        endDelay: 0,\n        easing:'easeInOutCirc',\n        maxFontSize: 44,\n        from: {\n            x: -50,\n            fontSize: 44\n        },  \n        to: {\n            x: [-50,50,-50],\n            fontSize: 44\n        },\n        frameFun: (ctx, data) => {\n            if (isDev) console.log(data);\n           \n            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n            if (targetText) {\n                let textCanvas = Lab.ui.createTextCanvas2(targetText, {\n                    fontSize: data.fontSize\n                });\n                let ww=textCanvas.width;\n                let w = parseInt(ww*0.5),\n                    h = parseInt(textCanvas.height*0.5),\n                    x = ww*0.5-w*0.5+data.x*0.01*w,\n                    y = (textCanvas.height-h)*0.5;\n                ctx.drawImage(\n                    textCanvas,\n                    0,\n                    0,\n                    textCanvas.width,\n                    textCanvas.height,\n                    x,\n                    y,\n                    w,\n                    h);\n                ctx.fillStyle = 'black';\n                // Math.random() > 0.5 ? ctx.fillRect(w + 16, 10, 6, h - 20) : null;\n            }\n\n        }\n    }\n];\n\nvar previewCanvas;\n\nfunction gui() {\n    let div = Lab.ui.createGroup();\n    Lab.ui.add(div);\n\n    div.add(Lab.ui.createDivider());\n\n    let h = Lab.ui.createHeader(1, '文本生成动画');\n    div.add(h);\n    div.add(Lab.ui.createDivider());\n\n    let inputText = Lab.ui.createInput('text', '输入文本');\n    \n    div.add(inputText);\n    div.add(Lab.ui.createDivider());\n\n    let tagsDiv = Lab.ui.createGroup();\n    div.add(tagsDiv);\n\n    let tags = Lab.ui.createTags(allParaments);\n    tagsDiv.add(tags);\n    div.add(Lab.ui.createDivider());\n    Array.from(tags.children, c => {\n            c.addEventListener('click', e => {\n                // console.log(e.target)\n                let dom=e.target;\n                if(e.target.querySelector('.label')) dom=e.target.querySelector('.label');\n                Array.from(tags.querySelectorAll('.label'),b=>{\n                    b.classList.remove('red');\n                });\n                dom.classList.remove('gray');\n                dom.classList.add('red');\n                idSelect = parseInt(dom.getAttribute('data-id'));\n            });\n        })\n        // console.log(tags)\n\n    previewCanvas=Lab.ui.createCanvas(300,300,'','',true);\n    previewCanvas.style=`width:100%;\n        outline: 1px solid #757575;`;\n    div.add(previewCanvas);\n    div.add(Lab.ui.createDivider());\n\n    let runBtn=Lab.ui.createButton('运行',()=>{\n          let text= inputText.getValue();\n          doRun(text);\n    })\n    div.add(runBtn);\n    div.add(Lab.ui.createDivider());\n\n     let runBtn2=Lab.ui.createButton('合成',()=>{\n          let text= inputText.getValue();\n          doRun(text,true);\n    })\n    div.add(runBtn2);\n    div.add(Lab.ui.createDivider());\n};\n\n// 运行合成\nfunction doRun(text,isResult=false){\n     if (text&&text.length && idSelect != undefined) {\n            targetText = text;\n            let p = {...allParaments[parseInt(idSelect)] };\n            if (typeof(p.duration) !== 'number') p.duration = p.duration(text);\n            // TODO 校验\n            // for (const key in p.to) {\n            //     if (!p.from[key]) - 1;\n            // }\n            // console.log(p)\n            if (p) run(text, p.maxFontSize, p.from, p.to, p.frameFun, p.duration, p.endDelay || 0,p.easing,isResult);\n        }\n}\n\nfunction getInitBound(text, maxFontSize) {\n    let textCanvas = Lab.ui.createTextCanvas2(text, {\n        fontSize: maxFontSize\n    });\n    return [textCanvas.width, textCanvas.height]\n}\n\nasync function run(text, maxFontSize, from, to, frameFun, duration, endDelay,easing,isResult=false) {\n    console.log(maxFontSize, from, to,duration)\n    Lab.ui.loading(0);\n\n    let g = new Lab.GIF(1),\n        url = await g.createFromCtx(...getInitBound(text, maxFontSize), {\n            duration: duration,\n            delay:0,\n            endDelay: endDelay,\n            round: 2,\n            easing: easing||'easeInOutCirc'\n        }, from, to, frameFun,isResult?null:previewCanvas);\n\n    if(isResult){\n        im = Lab.ui.createImageAndDownload(url);\n        Lab.ui.add(im);\n        im.init();\n    }\n    \n    Lab.ui.loading(100);\n};\n\n",
  "code_length": 41,
  "size": [
    417,
    640
  ],
  "extname": "designlabplugin",
  "version": "0.4.3",
  "package_version": "0.1.2",
  "package_id": "365f1a1f388d814a40f2ca12a9abe7b04daa7f52",
  "dependencies": {
    "@ffmpeg-installer/ffmpeg": "^1.0.20",
    "@ffprobe-installer/ffprobe": "^1.1.0",
    "@fortawesome/fontawesome-free": "^5.15.3",
    "@hapi/hapi": "^20.1.2",
    "@node-rs/jieba": "^1.2.0",
    "@paddlejs-models/humanseg": "0.0.5",
    "@tensorflow-models/body-pix": "^2.1.0",
    "@tensorflow-models/deeplab": "^0.2.1",
    "@tensorflow-models/face-landmarks-detection": "0.0.1",
    "@tensorflow-models/knn-classifier": "^1.2.2",
    "@tensorflow-models/mobilenet": "^2.1.0",
    "@tensorflow-models/posenet": "^2.2.2",
    "@tensorflow/tfjs": "^3.3.0",
    "@tensorflow/tfjs-backend-wasm": "^3.3.0",
    "about-window": "^1.14.0",
    "animejs": "^3.2.1",
    "color": "^3.1.3",
    "electron-json-storage": "^4.4.0",
    "electron-squirrel-startup": "^1.0.0",
    "emoji-picker-element": "^1.6.0",
    "emoji-regex": "^9.2.2",
    "espree": "^7.3.1",
    "exceljs": "^4.2.1",
    "face-api.js": "^0.22.2",
    "fluent-ffmpeg": "^2.1.2",
    "fomantic-ui": "^2.8.7",
    "gif.js": "^0.2.0",
    "gifuct-js": "^2.1.1",
    "horajs": "^0.1.3",
    "idb-kv-store": "^4.5.0",
    "internal-ip": "^6.2.0",
    "jimp": "^0.16.1",
    "lowdb": "^1.0.0",
    "make-cert": "^1.2.0",
    "marked": "^1.2.9",
    "md5": "^2.3.0",
    "mime-types": "^2.1.30",
    "mkcert": "^1.4.0",
    "ml": "^6.0.0",
    "natural": "^5.0.3",
    "ngraph.path": "^1.3.1",
    "nouislider": "^14.7.0",
    "object-hash": "^2.1.1",
    "opencvjs-dist": "^4.4.0",
    "osc-js": "^2.1.2",
    "pdfjs-dist": "^2.6.347",
    "peer": "^0.6.1",
    "peerjs": "^1.3.2",
    "recordrtc": "^5.6.2",
    "regl": "^2.1.0",
    "smartcrop": "^2.0.3",
    "socket.io": "^4.0.0",
    "socket.io-client": "^4.0.0",
    "timeago.js": "^4.0.2",
    "unsplash-js": "^7.0.12",
    "wordcloud": "^1.2.2",
    "yoga-layout-wasm": "^1.9.3-alpha.7",
    "zdog": "^1.1.2"
  },
  "author": "shadow",
  "create_time": 1630488940805
}