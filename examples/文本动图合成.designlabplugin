{
  "poster": "data:image/png;base64,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",
  "title": "文本动图合成",
  "knowledge": {
    "course": "合成各种动图版的文字",
    "readme": "文本动图合成",
    "author": "shadow",
    "version": "0.3"
  },
  "code": "//Hello AI world!\n\nvar isDev = false;\nvar idSelect, targetText;\nvar allParaments = [{\n        id: 0,\n        label: '放大缩小',\n        duration: 2000,\n        maxFontSize: 88,\n        from: {\n            fontSize: 44\n        },\n        to: {\n            fontSize: [44, 88, 44],\n        },\n        frameFun: (ctx, data) => {\n            // let t='😭';\n            let textCanvas = Lab.ui.createTextCanvas2(targetText, {\n                fontSize: data.fontSize\n            });\n            if (isDev) console.log(data);\n            //Lab.ui.add(textCanvas);\n            // textCanvas.style.outline='1px solid red'\n            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n\n            let w = textCanvas.width,\n                h = textCanvas.height,\n                x = parseInt((ctx.canvas.width - w) * 0.5),\n                y = parseInt((ctx.canvas.height - h) * 0.5);\n            ctx.drawImage(\n                textCanvas,\n                0,\n                0,\n                textCanvas.width,\n                textCanvas.height,\n                x,\n                y,\n                w,\n                h);\n        }\n    },\n    {\n        id: 1,\n        label: '逐字输入',\n        duration: t => t.length * 600,\n        endDelay: 0,\n        maxFontSize: 44,\n        from: {\n            x: 0,\n            fontSize: 44\n        },\n        to: {\n            x: [0, 10, 60, 100, 100],\n            fontSize: 44\n        },\n        frameFun: (ctx, data) => {\n            if (isDev) console.log(data);\n            let tx = Array.from(targetText, t => t);\n            tx = tx.slice(0, Math.round(0.01 * data.x * tx.length));\n            console.log(data.x, tx)\n\n            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n            if (tx.length > 0) {\n                let textCanvas = Lab.ui.createTextCanvas2(tx.join(\"\"), {\n                    fontSize: data.fontSize\n                });\n                let w = textCanvas.width,\n                    h = textCanvas.height,\n                    x = 0,\n                    y = 0;\n                ctx.drawImage(\n                    textCanvas,\n                    0,\n                    0,\n                    textCanvas.width,\n                    textCanvas.height,\n                    x,\n                    y,\n                    w,\n                    h);\n                ctx.fillStyle = 'black';\n                Math.random() > 0.5 ? ctx.fillRect(w + 16, 10, 6, h - 20) : null;\n            }\n\n        }\n    }\n];\n\nfunction gui() {\n    let div = Lab.ui.createGroup();\n    Lab.ui.add(div);\n\n    div.add(Lab.ui.createDivider());\n\n    let h = Lab.ui.createHeader(1, '文本生成动画');\n    div.add(h);\n    div.add(Lab.ui.createDivider());\n\n    let inputText = Lab.ui.createInput('text', '输入文本', ts => {\n        let text = ts[0];\n        if (text && idSelect != undefined) {\n            targetText = text;\n            let p = {...allParaments[parseInt(idSelect)] };\n            if (typeof(p.duration) !== 'number') p.duration = p.duration(text);\n            // TODO 校验\n            // for (const key in p.to) {\n            //     if (!p.from[key]) - 1;\n            // }\n            // console.log(p)\n            if (p) run(text, p.maxFontSize, p.from, p.to, p.frameFun, p.duration, p.endDelay || 0);\n        }\n    });\n    div.add(inputText);\n    div.add(Lab.ui.createDivider());\n\n    let tagsDiv = Lab.ui.createGroup();\n    div.add(tagsDiv);\n\n    let tags = Lab.ui.createTags(allParaments);\n    tagsDiv.add(tags);\n    Array.from(tags.children, c => {\n            c.addEventListener('click', e => {\n                // console.log(e.target.getAttribute('data-id'))\n                idSelect = parseInt(e.target.getAttribute('data-id'));\n            });\n        })\n        // console.log(tags)\n\n    // let inputIsCheck=Lab.ui.createToggle({\n    //     checked:false,\n    //     name:'放大',\n    //     label:'放大',\n    //     changeFn:checked=>{\n    //         isLarge=checked;\n    //     }\n    // });\n    // div.add(tags);\n    // div.add(Lab.ui.createDivider());\n};\n\n\nfunction getInitBound(text, maxFontSize) {\n    let textCanvas = Lab.ui.createTextCanvas2(text, {\n        fontSize: maxFontSize\n    });\n    return [textCanvas.width, textCanvas.height]\n}\n\nasync function run(text, maxFontSize, from, to, frameFun, duration, endDelay) {\n    console.log(maxFontSize, from, to)\n    Lab.ui.loading(0);\n\n    let g = new Lab.GIF(1),\n        url = await g.createFromCtx(...getInitBound(text, maxFontSize), {\n            duration: duration,\n            endDelay: endDelay,\n            round: 2,\n            easing: 'easeInOutCirc'\n        }, from, to, frameFun)\n\n    im = Lab.ui.createImageAndDownload(url);\n    Lab.ui.add(im);\n    im.init();\n    Lab.ui.loading(100);\n};",
  "code_length": 29,
  "size": [
    417,
    640
  ],
  "extname": "designlabplugin",
  "version": "0.3",
  "package_version": "0.1.2",
  "package_id": "365f1a1f388d814a40f2ca12a9abe7b04daa7f52",
  "dependencies": {
    "@ffmpeg-installer/ffmpeg": "^1.0.20",
    "@ffprobe-installer/ffprobe": "^1.1.0",
    "@fortawesome/fontawesome-free": "^5.15.3",
    "@hapi/hapi": "^20.1.2",
    "@node-rs/jieba": "^1.2.0",
    "@paddlejs-models/humanseg": "0.0.5",
    "@tensorflow-models/body-pix": "^2.1.0",
    "@tensorflow-models/deeplab": "^0.2.1",
    "@tensorflow-models/face-landmarks-detection": "0.0.1",
    "@tensorflow-models/knn-classifier": "^1.2.2",
    "@tensorflow-models/mobilenet": "^2.1.0",
    "@tensorflow-models/posenet": "^2.2.2",
    "@tensorflow/tfjs": "^3.3.0",
    "@tensorflow/tfjs-backend-wasm": "^3.3.0",
    "about-window": "^1.14.0",
    "animejs": "^3.2.1",
    "color": "^3.1.3",
    "electron-json-storage": "^4.4.0",
    "electron-squirrel-startup": "^1.0.0",
    "emoji-picker-element": "^1.6.0",
    "emoji-regex": "^9.2.2",
    "espree": "^7.3.1",
    "exceljs": "^4.2.1",
    "face-api.js": "^0.22.2",
    "fluent-ffmpeg": "^2.1.2",
    "fomantic-ui": "^2.8.7",
    "gif.js": "^0.2.0",
    "gifuct-js": "^2.1.1",
    "horajs": "^0.1.3",
    "idb-kv-store": "^4.5.0",
    "internal-ip": "^6.2.0",
    "jimp": "^0.16.1",
    "lowdb": "^1.0.0",
    "make-cert": "^1.2.0",
    "marked": "^1.2.9",
    "md5": "^2.3.0",
    "mime-types": "^2.1.30",
    "mkcert": "^1.4.0",
    "ml": "^6.0.0",
    "natural": "^5.0.3",
    "ngraph.path": "^1.3.1",
    "nouislider": "^14.7.0",
    "object-hash": "^2.1.1",
    "opencvjs-dist": "^4.4.0",
    "osc-js": "^2.1.2",
    "pdfjs-dist": "^2.6.347",
    "peer": "^0.6.1",
    "peerjs": "^1.3.2",
    "recordrtc": "^5.6.2",
    "regl": "^2.1.0",
    "smartcrop": "^2.0.3",
    "socket.io": "^4.0.0",
    "socket.io-client": "^4.0.0",
    "timeago.js": "^4.0.2",
    "unsplash-js": "^7.0.12",
    "wordcloud": "^1.2.2",
    "yoga-layout-wasm": "^1.9.3-alpha.7",
    "zdog": "^1.1.2"
  },
  "author": "shadow",
  "create_time": 1630243488708
}