{
  "poster": "data:image/png;base64,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",
  "title": "文本动图合成",
  "knowledge": {
    "course": "合成各种动图版的文字",
    "readme": "文本动图合成",
    "author": "shadow",
    "version": "0.4.2"
  },
  "code": "//Hello AI world!\n\nvar isDev = true;\nvar idSelect, targetText;\nvar allParaments = [{\n        id: 0,\n        label: '放大缩小',\n        color:'gray',\n        duration: 2000,\n        maxFontSize: 88,\n        from: {\n            fontSize: 44\n        },\n        to: {\n            fontSize: [44, 88, 44],\n        },\n        frameFun: (ctx, data) => {\n            // let t='😭';\n            let textCanvas = Lab.ui.createTextCanvas2(targetText, {\n                fontSize: data.fontSize\n            });\n            if (isDev) console.log(data);\n            //Lab.ui.add(textCanvas);\n            // textCanvas.style.outline='1px solid red'\n            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n\n            let w = textCanvas.width,\n                h = textCanvas.height,\n                x = parseInt((ctx.canvas.width - w) * 0.5),\n                y = parseInt((ctx.canvas.height - h) * 0.5);\n            ctx.drawImage(\n                textCanvas,\n                0,\n                0,\n                textCanvas.width,\n                textCanvas.height,\n                x,\n                y,\n                w,\n                h);\n        }\n    },\n    {\n        id: 1,\n        label: '逐字输入',\n        color:'gray',\n        easing:'linear',\n        duration: t => t.length *60000/250,\n        endDelay: 0,\n        maxFontSize: 44,\n        from: {\n            x: 0,\n            fontSize: 44\n        },\n        to: {\n            x: [0, 100],\n            fontSize: 44\n        },\n        frameFun: (ctx, data) => {\n            if (isDev) console.log(data);\n            let tx = Array.from(targetText, t => t);\n            tx = tx.slice(0, Math.round(0.01 * data.x * tx.length));\n            // console.log(data.x, tx)\n\n            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n            if (tx.length > 0) {\n                let textCanvas = Lab.ui.createTextCanvas2(tx.join(\"\"), {\n                    fontSize: data.fontSize\n                });\n                let w = textCanvas.width,\n                    h = textCanvas.height,\n                    x = 0,\n                    y = 0;\n                ctx.drawImage(\n                    textCanvas,\n                    0,\n                    0,\n                    textCanvas.width,\n                    textCanvas.height,\n                    x,\n                    y,\n                    w,\n                    h);\n                ctx.fillStyle = 'black';\n                Math.random() > 0.5 ? ctx.fillRect(w + 16, 10, 6, h - 20) : null;\n            }\n\n        }\n    },\n    {\n        id: 2,\n        label: '弹幕款',\n        color:'gray',\n        duration: t => t.length *200,\n        endDelay: 600,\n        easing:'linear',\n        maxFontSize: 44,\n        from: {\n            x: -110,\n            fontSize: 44\n        },\n        to: {\n            x: 110,\n            fontSize: 44\n        },\n        frameFun: (ctx, data) => {\n            if (isDev) console.log(data);\n           \n            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n            if (targetText) {\n                let textCanvas = Lab.ui.createTextCanvas2(targetText, {\n                    fontSize: data.fontSize\n                });\n                let w = textCanvas.width,\n                    h = textCanvas.height,\n                    x = -data.x*0.01*w,\n                    y = 0;\n                ctx.drawImage(\n                    textCanvas,\n                    0,\n                    0,\n                    textCanvas.width,\n                    textCanvas.height,\n                    x,\n                    y,\n                    w,\n                    h);\n                ctx.fillStyle = 'black';\n                // Math.random() > 0.5 ? ctx.fillRect(w + 16, 10, 6, h - 20) : null;\n            }\n\n        }\n    },\n    {\n        id: 3,\n        label: '摇摆',\n        color:'gray',\n        duration: t => t.length *200,\n        endDelay: 600,\n        easing:'linear',\n        maxFontSize: 44,\n        from: {\n            x: -110,\n            fontSize: 44\n        },\n        to: {\n            x: 110,\n            fontSize: 44\n        },\n        frameFun: (ctx, data) => {\n            if (isDev) console.log(data);\n           \n            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n            if (targetText) {\n                let textCanvas = Lab.ui.createTextCanvas2(targetText, {\n                    fontSize: data.fontSize\n                });\n                let w = textCanvas.width,\n                    h = textCanvas.height,\n                    x = -data.x*0.01*w,\n                    y = 0;\n                ctx.drawImage(\n                    textCanvas,\n                    0,\n                    0,\n                    textCanvas.width,\n                    textCanvas.height,\n                    x,\n                    y,\n                    w,\n                    h);\n                ctx.fillStyle = 'black';\n                // Math.random() > 0.5 ? ctx.fillRect(w + 16, 10, 6, h - 20) : null;\n            }\n\n        }\n    }\n];\n\nvar previewCanvas;\n\nfunction gui() {\n    let div = Lab.ui.createGroup();\n    Lab.ui.add(div);\n\n    div.add(Lab.ui.createDivider());\n\n    let h = Lab.ui.createHeader(1, '文本生成动画');\n    div.add(h);\n    div.add(Lab.ui.createDivider());\n\n    let inputText = Lab.ui.createInput('text', '输入文本');\n    \n    div.add(inputText);\n    div.add(Lab.ui.createDivider());\n\n    let tagsDiv = Lab.ui.createGroup();\n    div.add(tagsDiv);\n\n    let tags = Lab.ui.createTags(allParaments);\n    tagsDiv.add(tags);\n    Array.from(tags.children, c => {\n            c.addEventListener('click', e => {\n                // console.log(e.target)\n                let dom=e.target;\n                if(e.target.querySelector('.label')) dom=e.target.querySelector('.label');\n                Array.from(tags.querySelectorAll('.label'),b=>{\n                    b.classList.remove('red');\n                });\n                dom.classList.remove('gray');\n                dom.classList.add('red');\n                idSelect = parseInt(dom.getAttribute('data-id'));\n            });\n        })\n        // console.log(tags)\n\n    previewCanvas=Lab.ui.createCanvas(300,300,'','',true);\n    previewCanvas.style.width='100%';\n    div.add(previewCanvas);\n    div.add(Lab.ui.createDivider());\n\n    let runBtn=Lab.ui.createButton('运行',()=>{\n          let text= inputText.getValue();\n          doRun(text);\n    })\n    div.add(runBtn);\n    div.add(Lab.ui.createDivider());\n\n     let runBtn2=Lab.ui.createButton('合成',()=>{\n          let text= inputText.getValue();\n          doRun(text,true);\n    })\n    div.add(runBtn2);\n    div.add(Lab.ui.createDivider());\n};\n\n// 运行合成\nfunction doRun(text,isResult=false){\n     if (text&&text.length && idSelect != undefined) {\n            targetText = text;\n            let p = {...allParaments[parseInt(idSelect)] };\n            if (typeof(p.duration) !== 'number') p.duration = p.duration(text);\n            // TODO 校验\n            // for (const key in p.to) {\n            //     if (!p.from[key]) - 1;\n            // }\n            // console.log(p)\n            if (p) run(text, p.maxFontSize, p.from, p.to, p.frameFun, p.duration, p.endDelay || 0,p.easing,isResult);\n        }\n}\n\nfunction getInitBound(text, maxFontSize) {\n    let textCanvas = Lab.ui.createTextCanvas2(text, {\n        fontSize: maxFontSize\n    });\n    return [textCanvas.width, textCanvas.height]\n}\n\nasync function run(text, maxFontSize, from, to, frameFun, duration, endDelay,easing,isResult=false) {\n    console.log(maxFontSize, from, to,duration)\n    Lab.ui.loading(0);\n\n    let g = new Lab.GIF(1),\n        url = await g.createFromCtx(...getInitBound(text, maxFontSize), {\n            duration: duration,\n            endDelay: endDelay,\n            round: 2,\n            easing: easing||'easeInOutCirc'\n        }, from, to, frameFun,isResult?null:previewCanvas);\n\n    if(isResult){\n        im = Lab.ui.createImageAndDownload(url);\n        Lab.ui.add(im);\n        im.init();\n    }\n    \n    Lab.ui.loading(100);\n};\n\n",
  "code_length": 40,
  "size": [
    417,
    640
  ],
  "extname": "designlabplugin",
  "version": "0.4.2",
  "package_version": "0.1.2",
  "package_id": "365f1a1f388d814a40f2ca12a9abe7b04daa7f52",
  "dependencies": {
    "@ffmpeg-installer/ffmpeg": "^1.0.20",
    "@ffprobe-installer/ffprobe": "^1.1.0",
    "@fortawesome/fontawesome-free": "^5.15.3",
    "@hapi/hapi": "^20.1.2",
    "@node-rs/jieba": "^1.2.0",
    "@paddlejs-models/humanseg": "0.0.5",
    "@tensorflow-models/body-pix": "^2.1.0",
    "@tensorflow-models/deeplab": "^0.2.1",
    "@tensorflow-models/face-landmarks-detection": "0.0.1",
    "@tensorflow-models/knn-classifier": "^1.2.2",
    "@tensorflow-models/mobilenet": "^2.1.0",
    "@tensorflow-models/posenet": "^2.2.2",
    "@tensorflow/tfjs": "^3.3.0",
    "@tensorflow/tfjs-backend-wasm": "^3.3.0",
    "about-window": "^1.14.0",
    "animejs": "^3.2.1",
    "color": "^3.1.3",
    "electron-json-storage": "^4.4.0",
    "electron-squirrel-startup": "^1.0.0",
    "emoji-picker-element": "^1.6.0",
    "emoji-regex": "^9.2.2",
    "espree": "^7.3.1",
    "exceljs": "^4.2.1",
    "face-api.js": "^0.22.2",
    "fluent-ffmpeg": "^2.1.2",
    "fomantic-ui": "^2.8.7",
    "gif.js": "^0.2.0",
    "gifuct-js": "^2.1.1",
    "horajs": "^0.1.3",
    "idb-kv-store": "^4.5.0",
    "internal-ip": "^6.2.0",
    "jimp": "^0.16.1",
    "lowdb": "^1.0.0",
    "make-cert": "^1.2.0",
    "marked": "^1.2.9",
    "md5": "^2.3.0",
    "mime-types": "^2.1.30",
    "mkcert": "^1.4.0",
    "ml": "^6.0.0",
    "natural": "^5.0.3",
    "ngraph.path": "^1.3.1",
    "nouislider": "^14.7.0",
    "object-hash": "^2.1.1",
    "opencvjs-dist": "^4.4.0",
    "osc-js": "^2.1.2",
    "pdfjs-dist": "^2.6.347",
    "peer": "^0.6.1",
    "peerjs": "^1.3.2",
    "recordrtc": "^5.6.2",
    "regl": "^2.1.0",
    "smartcrop": "^2.0.3",
    "socket.io": "^4.0.0",
    "socket.io-client": "^4.0.0",
    "timeago.js": "^4.0.2",
    "unsplash-js": "^7.0.12",
    "wordcloud": "^1.2.2",
    "yoga-layout-wasm": "^1.9.3-alpha.7",
    "zdog": "^1.1.2"
  },
  "author": "shadow",
  "create_time": 1630409182643
}