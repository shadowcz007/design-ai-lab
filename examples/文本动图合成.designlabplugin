{
  "poster": "data:image/png;base64,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",
  "title": "文本动图合成",
  "knowledge": {
    "course": "合成各种动图版的文字",
    "readme": "文本动图合成",
    "author": "shadow",
    "version": "0.3"
  },
  "code": "//Hello AI world!\n\nvar isDev = false;\nvar idSelect, targetText;\nvar allParaments = [{\n        id: 0,\n        label: '放大缩小',\n        duration: 2000,\n        maxFontSize: 88,\n        from: {\n            fontSize: 44\n        },\n        to: {\n            fontSize: [44, 88, 44],\n        },\n        frameFun: (ctx, data) => {\n            // let t='😭';\n            let textCanvas = Lab.ui.createTextCanvas2(targetText, {\n                fontSize: data.fontSize\n            });\n            if (isDev) console.log(data);\n            //Lab.ui.add(textCanvas);\n            // textCanvas.style.outline='1px solid red'\n            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n\n            let w = textCanvas.width,\n                h = textCanvas.height,\n                x = parseInt((ctx.canvas.width - w) * 0.5),\n                y = parseInt((ctx.canvas.height - h) * 0.5);\n            ctx.drawImage(\n                textCanvas,\n                0,\n                0,\n                textCanvas.width,\n                textCanvas.height,\n                x,\n                y,\n                w,\n                h);\n        }\n    },\n    {\n        id: 1,\n        label: '逐字输入',\n        duration: t => t.length * 600,\n        endDelay: 0,\n        maxFontSize: 44,\n        from: {\n            x: 0,\n            fontSize: 44\n        },\n        to: {\n            x: [0, 10, 60, 100, 100],\n            fontSize: 44\n        },\n        frameFun: (ctx, data) => {\n            if (isDev) console.log(data);\n            let tx = Array.from(targetText, t => t);\n            tx = tx.slice(0, Math.round(0.01 * data.x * tx.length));\n            // console.log(data.x, tx)\n\n            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n            if (tx.length > 0) {\n                let textCanvas = Lab.ui.createTextCanvas2(tx.join(\"\"), {\n                    fontSize: data.fontSize\n                });\n                let w = textCanvas.width,\n                    h = textCanvas.height,\n                    x = 0,\n                    y = 0;\n                ctx.drawImage(\n                    textCanvas,\n                    0,\n                    0,\n                    textCanvas.width,\n                    textCanvas.height,\n                    x,\n                    y,\n                    w,\n                    h);\n                ctx.fillStyle = 'black';\n                Math.random() > 0.5 ? ctx.fillRect(w + 16, 10, 6, h - 20) : null;\n            }\n\n        }\n    }\n];\n\nfunction gui() {\n    let div = Lab.ui.createGroup();\n    Lab.ui.add(div);\n\n    div.add(Lab.ui.createDivider());\n\n    let h = Lab.ui.createHeader(1, '文本生成动画');\n    div.add(h);\n    div.add(Lab.ui.createDivider());\n\n    let inputText = Lab.ui.createInput('text', '输入文本', ts => {\n        let text = ts[0];\n        if (text) {\n            targetText = text;\n            let p = {...allParaments[parseInt(idSelect)] };\n            if (typeof(p.duration) !== 'number') p.duration = p.duration(text);\n            // TODO 校验\n            // for (const key in p.to) {\n            //     if (!p.from[key]) - 1;\n            // }\n            if (p) run(text, p.maxFontSize, p.from, p.to, p.frameFun, p.duration, p.endDelay || 0);\n        }\n    });\n    div.add(inputText);\n    div.add(Lab.ui.createDivider());\n\n    let tagsDiv = Lab.ui.createGroup();\n    div.add(tagsDiv);\n\n    let tags = Lab.ui.createTags(allParaments);\n    tagsDiv.add(tags);\n    Array.from(tags.children, c => {\n            c.addEventListener('click', e => {\n                // console.log(e.target.getAttribute('data-id'))\n                idSelect = parseInt(e.target.getAttribute('data-id'));\n            });\n        })\n        // console.log(tags)\n\n    // let inputIsCheck=Lab.ui.createToggle({\n    //     checked:false,\n    //     name:'放大',\n    //     label:'放大',\n    //     changeFn:checked=>{\n    //         isLarge=checked;\n    //     }\n    // });\n    // div.add(tags);\n    // div.add(Lab.ui.createDivider());\n};\n\n\nfunction getInitBound(text, maxFontSize) {\n    let textCanvas = Lab.ui.createTextCanvas2(text, {\n        fontSize: maxFontSize\n    });\n    return [textCanvas.width, textCanvas.height]\n}\n\nasync function run(text, maxFontSize, from, to, frameFun, duration, endDelay) {\n    console.log(maxFontSize, from, to)\n    Lab.ui.loading(0);\n\n    let g = new Lab.GIF(1),\n        url = await g.createFromCtx(...getInitBound(text, maxFontSize), {\n            duration: duration,\n            endDelay: endDelay,\n            round: 2,\n            easing: 'easeInOutCirc'\n        }, from, to, frameFun)\n\n    im = Lab.ui.createImageAndDownload(url);\n    Lab.ui.add(im);\n    im.init();\n    Lab.ui.loading(100);\n};",
  "code_length": 29,
  "size": [
    417,
    640
  ],
  "extname": "designlabplugin",
  "version": "0.3",
  "package_version": "0.1.2",
  "package_id": "365f1a1f388d814a40f2ca12a9abe7b04daa7f52",
  "dependencies": {
    "@ffmpeg-installer/ffmpeg": "^1.0.20",
    "@ffprobe-installer/ffprobe": "^1.1.0",
    "@fortawesome/fontawesome-free": "^5.15.3",
    "@hapi/hapi": "^20.1.2",
    "@node-rs/jieba": "^1.2.0",
    "@paddlejs-models/humanseg": "0.0.5",
    "@tensorflow-models/body-pix": "^2.1.0",
    "@tensorflow-models/deeplab": "^0.2.1",
    "@tensorflow-models/face-landmarks-detection": "0.0.1",
    "@tensorflow-models/knn-classifier": "^1.2.2",
    "@tensorflow-models/mobilenet": "^2.1.0",
    "@tensorflow-models/posenet": "^2.2.2",
    "@tensorflow/tfjs": "^3.3.0",
    "@tensorflow/tfjs-backend-wasm": "^3.3.0",
    "about-window": "^1.14.0",
    "animejs": "^3.2.1",
    "color": "^3.1.3",
    "electron-json-storage": "^4.4.0",
    "electron-squirrel-startup": "^1.0.0",
    "emoji-picker-element": "^1.6.0",
    "emoji-regex": "^9.2.2",
    "espree": "^7.3.1",
    "exceljs": "^4.2.1",
    "face-api.js": "^0.22.2",
    "fluent-ffmpeg": "^2.1.2",
    "fomantic-ui": "^2.8.7",
    "gif.js": "^0.2.0",
    "gifuct-js": "^2.1.1",
    "horajs": "^0.1.3",
    "idb-kv-store": "^4.5.0",
    "internal-ip": "^6.2.0",
    "jimp": "^0.16.1",
    "lowdb": "^1.0.0",
    "make-cert": "^1.2.0",
    "marked": "^1.2.9",
    "md5": "^2.3.0",
    "mime-types": "^2.1.30",
    "mkcert": "^1.4.0",
    "ml": "^6.0.0",
    "natural": "^5.0.3",
    "ngraph.path": "^1.3.1",
    "nouislider": "^14.7.0",
    "object-hash": "^2.1.1",
    "opencvjs-dist": "^4.4.0",
    "osc-js": "^2.1.2",
    "pdfjs-dist": "^2.6.347",
    "peer": "^0.6.1",
    "peerjs": "^1.3.2",
    "recordrtc": "^5.6.2",
    "regl": "^2.1.0",
    "smartcrop": "^2.0.3",
    "socket.io": "^4.0.0",
    "socket.io-client": "^4.0.0",
    "timeago.js": "^4.0.2",
    "unsplash-js": "^7.0.12",
    "wordcloud": "^1.2.2",
    "yoga-layout-wasm": "^1.9.3-alpha.7",
    "zdog": "^1.1.2"
  },
  "author": "shadow",
  "create_time": 1630162932377
}