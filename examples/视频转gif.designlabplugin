{
  "poster": "data:image/png;base64,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",
  "knowledge": {
    "readme": "# 视频转gif",
    "course": "转化的文件位于源文件目录下"
  },
  "code": "\nvar width = 220, height = 200, fps = 10, startTime = 0, loop = 5;\n\nvar _FILE;\n\nvar modelType;\n\nfunction gui() {\n  Lab.ui.p5Show(false);\n  let p = Lab.ui.createBaseText('---');\n  p.style.minHeight = '120px';\n  p.style.minWidth = '120px';\n\n  let openBtn = Lab.ui.createButton(\"打开\", async () => {\n    let v = await Lab.ui.createShortVideoInput();\n    if (v[0].type === 'video' || v[0].type === 'gif') {\n      p.innerText = '正在ing';\n      _FILE = v[0];\n      let info = await Lab.video.getMediaDurationAndType(_FILE.url);\n      p.innerText = JSON.stringify(info, null, 2);\n      _FILE = Object.assign(_FILE, info);\n      width = _FILE.width;\n      height = _FILE.height;\n      fps = _FILE.frame_rate || 0;\n      loop = _FILE.duration;\n      iw.input.value = width;\n      ih.input.value = height;\n      ifps.input.value = fps;\n      iloop.input.value = loop;\n      istartTime.input.value = 0;\n      iscale.input.value = 1;\n    }\n\n  }, false);\n\n\n\n\n  let inSelect = Lab.ui.createInput('select', '选择', data => {\n    modelType = parseInt(data);\n    // if (originBgImg) doImage(originBgImg);\n  }, true, false);\n  inSelect.appendOptions([{\n    text: 'none',\n    value: -1\n  }, {\n    text: 'u2net',\n    value: 0\n  }, {\n    text: 'humanseg',\n    value: 1\n  }, {\n    text: 'bodypix',\n    value: 2\n  }]);\n\n\n  let btn0 = Lab.ui.createButton(\"提取图片&是否抠图\", async () => {\n    // let v = await Lab.ui.createShortVideoInput();\n    if (_FILE.type === 'video' || _FILE.type === 'gif') {\n      p.innerText = '正在ing';\n      // let i\n\n      let info = await Lab.video.getMediaDurationAndType(_FILE.url);\n      let output = await Lab.video.videoExtract(_FILE.url, info.width + 'x' + info.height, null, 0, 0);\n\n      // info = await Lab.video.getMediaDurationAndType(output);\n      info.output = output;\n      p.innerText = JSON.stringify(info, null, 2);\n\n      // 抠图\n      // console.log(output)\n      p.innerText = 'start,共' + output.images.length;\n      let t = (new Date()).getTime();\n      await segmentImages(output.images);\n      p.innerText = 'done,耗时' + ((new Date()).getTime() - t);\n    }\n\n  }, false);\n\n  let btn = Lab.ui.createButton(\"视频转动图\", async () => {\n    // let v = await Lab.ui.createShortVideoInput();\n    if (_FILE.type === 'video' || _FILE.type === 'gif') {\n      p.innerText = '正在ing';\n      // let i\n      // \n      // width=\n      let output = await Lab.video.video2gif(_FILE.url, width, fps, startTime, loop);\n      let info = await Lab.video.getMediaDurationAndType(output);\n      p.innerText = JSON.stringify(info, null, 2);\n    }\n\n  }, false);\n\n  let btn2 = Lab.ui.createButton(\"视频转mp4\", async () => {\n    // let v = await Lab.ui.createShortVideoInput();\n    if (_FILE.type === 'video' || _FILE.type === 'gif') {\n      p.innerText = '正在ing';\n      let output = await Lab.video.video2mp4(_FILE.url);\n      let info = await Lab.video.getMediaDurationAndType(output);\n      info.output = output;\n      p.innerText = JSON.stringify(info, null, 2);\n    }\n\n  }, false);\n\n\n  let btn3 = Lab.ui.createButton(\"动图转视频\", async () => {\n    // let v = await Lab.ui.createShortVideoInput();\n    // console.log(v)\n    if (_FILE.type === 'gif') {\n      p.innerText = '正在ing';\n      let output = await Lab.video.gif2video(_FILE.url);\n      let info = await Lab.video.getMediaDurationAndType(output);\n      info.output = output;\n      p.innerText = JSON.stringify(info, null, 2);\n    }\n\n  }, false);\n\n  let btn4 = Lab.ui.createButton(\"多图转动图\", async () => {\n    let v = await Lab.ui.getFilePath();\n    // console.log(v)\n    if (v && v[0]) {\n      p.innerText = '正在ing';\n      let output = await Lab.video.frames2video(v[0], width + 'x' + height, fps);\n      output = await Lab.video.video2gif(output, width, fps, startTime, loop);\n      let info = await Lab.video.getMediaDurationAndType(output);\n      info.output = output;\n      p.innerText = JSON.stringify(info, null, 2);\n    }\n\n  }, false);\n  // let p=Lab.ui.createBaseText('---');\n\n  let g = Lab.ui.createGroup(p, openBtn, inSelect, btn0, btn, btn2, btn3, btn4);\n  g.layout(1);\n  // Lab.ui.add(g);\n\n  let iscale = Lab.ui.createInput('text', '比例', text => {\n    let s = 1;\n    if (text && text[0]) s = parseFloat(text[0]);\n    width = parseInt(width * s);\n    height = parseInt(height * s);\n    iw.input.value = width;\n    ih.input.value = height;\n  }, false),\n    iw = Lab.ui.createInput('text', '宽度', text => {\n      if (text && text[0]) width = parseInt(text[0]);\n    }, false),\n    ih = Lab.ui.createInput('text', '高度', text => {\n      if (text && text[0]) height = parseInt(text[0]);\n    }, false),\n    ifps = Lab.ui.createInput('text', '帧速率', text => {\n      if (text && text[0]) fps = parseInt(text[0]);\n    }, false),\n    istartTime = Lab.ui.createInput('text', '开始时间', text => {\n      if (text && text[0]) startTime = parseInt(text[0]);\n    }, false),\n    iloop = Lab.ui.createInput('text', '终止时间', text => {\n      if (text && text[0]) loop = parseInt(text[0]);\n    }, false);\n\n  let gn = Lab.ui.createGroup(iscale, iw, ih, ifps, istartTime, iloop);\n  gn.style.minWidth = '200px';\n  gn.style.padding = '12px';\n\n  let gAll = Lab.ui.createGroup(g, gn);\n  gAll.layout(5);\n  Lab.ui.add(gAll);\n\n}\n\n// 抠图\nasync function segmentImages(urls) {\n  let seg;\n  if (modelType === 0) {\n    seg = Lab.ai.u2net.segment;\n  } else if (modelType === 1) {\n    seg = Lab.ai.humanseg.start;\n  } else if (modelType === 2) {\n    seg = Lab.ai.bodypix.segmentPerson;\n  };\n  if (!seg) return;\n  for (let imUrl of urls) {\n    let imUrlInfo = await Lab.video.getMediaDurationAndType(imUrl);\n    if (imUrlInfo && imUrlInfo.type === 'img') {\n      let img = await Lab.ui.createImage(imUrl);\n      let res = await seg(img);\n      Lab.ui.saveBase64(res.src, imUrl);\n      // console.log(imUrl, res);\n    }\n  };\n}",
  "code_length": 34,
  "size": [
    671,
    647
  ],
  "extname": "designlabplugin",
  "version": "0.1.2",
  "package_id": "912fea7ba254e9c7c27fd07c72ac45097a9d2a12",
  "create_time": 1619010762111
}