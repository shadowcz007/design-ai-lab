{
  "poster": "data:image/png;base64,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",
  "knowledge": {
    "readme": "# 视频转gif",
    "course": "转化的文件位于源文件目录下"
  },
  "code": "\nvar width = 220, height = 200, fps = 10, startTime = 0, loop = 5;\n\nvar _FILE;\n\nvar modelType;\n\nvar videoRange;\n\nfunction gui() {\n  Lab.ui.p5Show(false);\n\n  let p = Lab.ui.createBaseText('---');\n  p.style.minHeight = '120px';\n  p.style.minWidth = '120px';\n\n  let openBtn = Lab.ui.createButton(\"打开\", async () => {\n    let v = await Lab.ui.createShortVideoInput();\n    if (v[0].type === 'video' || v[0].type === 'gif') {\n      p.innerText = '正在ing';\n      _FILE = v[0];\n      let info = await Lab.video.getMediaDurationAndType(_FILE.url);\n      p.innerText = JSON.stringify(info, null, 2);\n      _FILE = Object.assign(_FILE, info);\n      width = _FILE.width;\n      height = _FILE.height;\n      fps = _FILE.frame_rate || 0;\n      loop = _FILE.duration;\n      // iw.input.value = width;\n      // ih.input.value = height;\n      // ifps.input.value = fps;\n      // iloop.input.value = loop;\n      // istartTime.input.value = 0;\n      // iscale.input.value = 1;\n\n      if(videoRange) videoRange.remove();\n       videoRange=Lab.ui.createVideoRange(0,loop);\n      Lab.ui.add(videoRange);\n\n\n    }\n\n  }, false);\n\n\n\n\n  let inSelect = Lab.ui.createInput('select', '选择', data => {\n    modelType = parseInt(data);\n    // if (originBgImg) doImage(originBgImg);\n  }, true, false);\n  inSelect.appendOptions([{\n    text: 'none',\n    value: -1\n  }, {\n    text: 'u2net',\n    value: 0\n  }, {\n    text: 'humanseg',\n    value: 1\n  }, {\n    text: 'bodypix',\n    value: 2\n  }]);\n\n\n  let btn0 = Lab.ui.createButton(\"提取图片&是否抠图\", async () => {\n    // let v = await Lab.ui.createShortVideoInput();\n    if (_FILE.type === 'video' || _FILE.type === 'gif') {\n      p.innerText = '正在ing';\n      // let i\n\n      let info = await Lab.video.getMediaDurationAndType(_FILE.url);\n      let output = await Lab.video.videoExtract(_FILE.url, info.width + 'x' + info.height, null, 0, 0);\n\n      // info = await Lab.video.getMediaDurationAndType(output);\n      info.output = output;\n      p.innerText = JSON.stringify(info, null, 2);\n\n      // 抠图\n      // console.log(output)\n      p.innerText = 'start,共' + output.images.length;\n      let t = (new Date()).getTime();\n      await segmentImages(output.images);\n      p.innerText = 'done,耗时' + ((new Date()).getTime() - t);\n    }\n\n  }, false);\n\n  let btn = Lab.ui.createButton(\"视频转动图\", async () => {\n    // let v = await Lab.ui.createShortVideoInput();\n    if (_FILE.type === 'video' || _FILE.type === 'gif') {\n      p.innerText = '正在ing';\n      // let i\n      // \n      // width=\n      let output = await Lab.video.video2gif(_FILE.url, width, fps, startTime, loop);\n      let info = await Lab.video.getMediaDurationAndType(output);\n      p.innerText = JSON.stringify(info, null, 2);\n    }\n\n  }, false);\n\n  let btn2 = Lab.ui.createButton(\"视频转mp4\", async () => {\n    // let v = await Lab.ui.createShortVideoInput();\n    if (_FILE.type === 'video' || _FILE.type === 'gif') {\n      p.innerText = '正在ing';\n      let output = await Lab.video.video2mp4(_FILE.url,startTime, loop);\n      let info = await Lab.video.getMediaDurationAndType(output);\n      info.output = output;\n      p.innerText = JSON.stringify(info, null, 2);\n    }\n\n  }, false);\n\n\n  let btn3 = Lab.ui.createButton(\"动图转视频\", async () => {\n    // let v = await Lab.ui.createShortVideoInput();\n    // console.log(v)\n    if (_FILE.type === 'gif') {\n      p.innerText = '正在ing';\n      let output = await Lab.video.gif2video(_FILE.url);\n      let info = await Lab.video.getMediaDurationAndType(output);\n      info.output = output;\n      p.innerText = JSON.stringify(info, null, 2);\n    }\n\n  }, false);\n\n  let btn4 = Lab.ui.createButton(\"多图转动图\", async () => {\n    let v = await Lab.ui.getFilePath();\n    // console.log(v)\n    if (v && v[0]) {\n      p.innerText = '正在ing';\n    //  console.log(v)\n     let gif=new Lab.base.GIF();\n     await gif.addFromDir(v[0]);\n     let res=await gif.render();\n      await Lab.ui.createImageAndDownload(res,true);\n      p.innerText = '完成';\n    }\n\n  }, false);\n  // let p=Lab.ui.createBaseText('---');\n\n  let g = Lab.ui.createGroup(p, openBtn, inSelect, btn0, btn, btn2, btn3, btn4);\n  g.layout(1);\n  // Lab.ui.add(g);\n\n  // let iscale = Lab.ui.createInput('text', '比例', text => {\n  //   let s = 1;\n  //   if (text && text[0]) s = parseFloat(text[0]);\n  //   width = parseInt(width * s);\n  //   height = parseInt(height * s);\n  //   iw.input.value = width;\n  //   ih.input.value = height;\n  // }, false),\n  //   iw = Lab.ui.createInput('text', '宽度', text => {\n  //     if (text && text[0]) width = parseInt(text[0]);\n  //   }, false),\n  //   ih = Lab.ui.createInput('text', '高度', text => {\n  //     if (text && text[0]) height = parseInt(text[0]);\n  //   }, false),\n  //   ifps = Lab.ui.createInput('text', '帧速率', text => {\n  //     if (text && text[0]) fps = parseInt(text[0]);\n  //   }, false),\n  //   istartTime = Lab.ui.createInput('text', '开始时间', text => {\n  //     if (text && text[0]) startTime = parseInt(text[0]);\n  //   }, false),\n  //   iloop = Lab.ui.createInput('text', '终止时间', text => {\n  //     if (text && text[0]) loop = parseInt(text[0]);\n  //   }, false);\n\n  // let gn = Lab.ui.createGroup(iscale, iw, ih, ifps, istartTime, iloop);\n  // gn.style.minWidth = '200px';\n  // gn.style.padding = '12px';\n\n  let gAll = Lab.ui.createGroup(g);\n  gAll.layout(5);\n  Lab.ui.add(gAll);\n\n}\n\n// 抠图\nasync function segmentImages(urls) {\n  let seg;\n  if (modelType === 0) {\n    seg = Lab.ai.u2net.segment;\n  } else if (modelType === 1) {\n    seg = Lab.ai.humanseg.start;\n  } else if (modelType === 2) {\n    seg = Lab.ai.bodypix.segmentPerson;\n  };\n  if (!seg) return;\n  for (let imUrl of urls) {\n    let imUrlInfo = await Lab.video.getMediaDurationAndType(imUrl);\n    if (imUrlInfo && imUrlInfo.type === 'img') {\n      let img = await Lab.ui.createImage(imUrl);\n      let res = await seg(img);\n      Lab.ui.saveBase64(res.src, imUrl);\n      // console.log(imUrl, res);\n    }\n  };\n}",
  "code_length": 31,
  "size": [
    609,
    703
  ],
  "extname": "designlabplugin",
  "version": "0.1.2",
  "package_id": "912fea7ba254e9c7c27fd07c72ac45097a9d2a12",
  "create_time": 1620218498837
}