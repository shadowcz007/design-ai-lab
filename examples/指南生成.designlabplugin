{
  "poster": "data:image/png;base64,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",
  "knowledge": {
    "course": "- 取url对应的文章正文内的图片\n- 排版\n- 拷贝html到剪切板",
    "readme": "指南生成",
    "author": "shadow",
    "version": "0.2.0"
  },
  "code": "\n// 缓存key\nvar _STORE_KEY = 'mix-book';\n\nvar mainDiv, cards, tag, selectModel;\n\nvar dataset = {};\nvar db = new Lab.Store(_STORE_KEY);\n\n\n// 配色方案\nvar colors = {\n    font: '#a76a4d',\n    background: '#fff8ee',\n    highlight: ['#fcf1d7', '#ffc038']\n}\n\nfunction gui() {\n    Lab.ui.p5Show(false);\n\n    mainDiv = Lab.ui.createGroup('container');\n    Lab.ui.add(mainDiv);\n\n    selectModel = Lab.ui.createModel(\"选择\");\n    Lab.ui.add(selectModel);\n\n    let spiderBtn = Lab.ui.createButton('粘贴', e => {\n        let url = Lab.clipboard.read();\n        if (url.match('https')) {\n            spider(url, true);\n        }\n    }, false);\n    mainDiv.add(spiderBtn);\n\n    let moreBtn = Lab.ui.createButton('相关推荐', moreRelate, false);\n    mainDiv.add(moreBtn);\n\n    let selectBtn = Lab.ui.createButton('选择', async () => {\n        selectModel.show();\n        selectModel.querySelector('.content').style = `height: 80vh;overflow: scroll;`;\n        selectModel.querySelector('.content').setAttribute('contenteditable', true);\n        var datas = [];\n        for (let id in dataset) {\n            datas.push(dataset[id]);\n        };\n        datas = datas.sort((a, b) => b.isMain);\n        for (const d of datas) {\n            let card = Lab.ui.createGroup('card');\n            let title = Lab.ui.createBaseText(d.title);\n            card.add(title);\n            let mImg = await Lab.ui.createImage(d.image);\n            mImg.setAttribute('data-id', d.id);\n            card.add(mImg);\n            Array.from(d.imgs, async im => {\n                let row = Lab.ui.createGroup('row');\n                row.style = `margin: 24px 0;`;\n                let img = await Lab.ui.createImage(im.url);\n                img.setAttribute('data-id', d.id);\n                let text = Lab.ui.createBaseText(im.text || '');\n                row.add(img);\n                row.add(text);\n                card.add(row);\n            });\n            selectModel.add(card);\n        };\n\n    }, false);\n    mainDiv.add(selectBtn);\n\n    let copyBtn = Lab.ui.createButton('拷贝', e => {\n        Lab.clipboard.write(cards.innerHTML, 'html');\n    }, false);\n    mainDiv.add(copyBtn);\n\n    let column = Lab.ui.createGroup('column');\n    mainDiv.add(column);\n\n    cards = Lab.ui.createGroup('column');\n    cards.style.width = '320px';\n    mainDiv.add(cards);\n\n    db.getValues().then(r => {\n        if (r && r[0]) dataset = r[0];\n        tag = Lab.ui.createTag(`收集 ${Object.keys(dataset).length}`);\n        tag.style = `\n        position:fixed;\n        top:12px;\n        right:12px;`\n        mainDiv.add(tag);\n        tag.addEventListener('click', async () => {\n\n            Lab.ui.loading(0);\n            cards.innerHTML = '';\n            await createCard(dataset);\n            // Lab.clipboard.write(cards.innerHTML,'html');\n            setTimeout(() => Lab.ui.loading(100), 500);\n\n        });\n    });\n\n};\n\nfunction spider(url, isMain = false) {\n    let webview = Lab.ui.createWebview(url, false);\n    webview.style = `\n            display:inline-flex;\n            width:1020px;\n            height:2800px;\n            `;\n    mainDiv.add(webview);\n    if (isMain) webview.setAttribute('is-main', true);\n    // webview.addEventListener('page-title-updated', doData);\n    // webview.addEventListener('dom-ready', console.log);\n    // webview.addEventListener('load-commit', console.log);\n    webview.addEventListener('did-finish-load', doData);\n    // webview.addEventListener('did-frame-finish-load', console.log);\n    // webview.addEventListener('console-message', console.log);\n    // webview.addEventListener('update-target-url', doData);\n\n}\n\n// 扩充一层相关推荐\nfunction moreRelate() {\n    for (const id in dataset) {\n        let d = dataset[id];\n        if (!d.isMore) {\n            for (const r of d.relate) {\n                spider(r.url);\n            };\n            d.isMore = true;\n        }\n    }\n};\n\nasync function createCard(ds) {\n    let index = 1;\n    cards.setAttribute('contenteditable', true);\n    for (const id in ds) {\n        let data = ds[id];\n        if (data.imgs.length > 2) {\n            let card = Lab.ui.createGroup('card');\n            cards.add(card);\n            card.outerHTML = await createCardHtml(index, data);\n            index++;\n        }\n    }\n}\n\n// var selectRes=Array.from(selectModel.querySelectorAll('img'),im=>{\n//     return {url:im.src,id:im.getAttribute('data-id')}\n// })\n// var imgs={};\n// Array.from(selectRes,im=>{\n//    if(!imgs[im.id]) imgs[im.id]=[];\n//     imgs[im.id].push({url:im.url})\n// });\n\n// for(let id in imgs){\n//     let data={...dataset[id]};\n//     data.imgs=imgs[id];\n//     imgs[id]=data;\n// };\n\nasync function doData(e) {\n    // console.log(e)\n    let webview = e.target;\n    webview.zoomFactor = 0.1;\n    await Lab.base.sleep(500);\n    window.scrollTo(0, 999999999999);\n    await Lab.base.sleep(3000);\n    let res = await webview.executeJavaScript(`\n            var ks=Array.from(document.head.querySelectorAll('meta'),m=>{\n                return {property:m.getAttribute('property'),content:m.getAttribute('content')}\n            }).filter(f=>f.property==='og:title'||f.property==='og:description'||f.property==='og:image');\n            \n            var kd={\n                url:document.URL,\n                author:document.querySelector('#js_name').innerText.trim(),\n                text:document.querySelector('#js_content').innerText\n            };\n            Array.from(ks,k=>{\n                kd[k.property.replace('og:','')]=k.content\n            });\n\n            kd.imgs=Array.from(document.querySelectorAll('#js_content img'),img=>{\n                var obj;\n                console.log(img,img.complete)\n                if(img.parentElement.nextElementSibling){\n            \n                let tx=img.parentElement.nextElementSibling.innerText.trim();\n            \n                let dtype=img.getAttribute('data-type'),url=img.src;\n                let width=img.naturalWidth,height=img.naturalHeight;\n            \n                url.match('https')&&width!=height&&width>100?obj={url,text:tx,type:dtype,\n            width,height}:null;\n                \n                }\n                return obj;\n            }).filter(f=>f);\n\n            kd.relate=Array.from(document.querySelectorAll('.js_related_main a'),a=>{\n\n                let im=a.querySelector('.weui-media-box__ft').style.backgroundImage.replace('url(\"','').replace('\")',''),\n                    title= a.querySelector('.weui_ellipsis_mod_inner').innerText,\n                    author=a.querySelector('.relate_profile_nickname').innerText,\n                    url=a.getAttribute('data-url');\n            \n                return{imurl:im,title,author,url};\n            });\n\n            kd;\n    `);\n    console.log(res);\n    // for (const r of res) {\n    //     r.base64=await Lab.Image.getNativeImageFromWebview(r.url);\n    // };\n    if (webview.getAttribute('is-main')) res.isMain = true;\n    if (res) {\n        res.id = Lab.base.hash({ title: res.title, description: res.description, image: res.image });\n        // if (!dataset[res.id]) dataset[res.id] = res;\n        res.tags = Lab.nlp.jieba.extract((res.title + ' ' + res.description + ' ' + res.text).toLowerCase(), 10);\n        dataset[res.id] = res;\n        // console.log(res)\n        db.set(_STORE_KEY, dataset);\n        tag.innerText = `收集 ${Object.keys(dataset).length}`;\n    };\n    webview.remove();\n    return res;\n}\n\nasync function createCardHtml(index, data) {\n    let html = createHead(index, data.title, data.image, data.description);\n\n    let imgs = [];\n    for (const im of data.imgs) {\n        if (!im.base64) {\n            im.base64 = await Lab.Image.getNativeImageFromWebview(im.url);\n            // TODO 改造\n            db.set(_STORE_KEY, dataset);\n        };\n        imgs.push(im.base64)\n    };\n    html += await createContent(imgs);\n    // card.innerHTML=html;\n    return html\n}\n\n\nfunction createHead(index, title, image, description) {\n\n    return `<section class=\"_design-ai-lab\" data-tools=\"mixlab无界社区\">\n    <section style=\"margin: 1em auto;\">\n        <section style=\"display: flex;align-items: center;justify-content: center;align-items: flex-end;\">\n            <section style=\"box-sizing:border-box;margin-left: 10px;width: 100%;\" data-width=\"45%\">\n                <section style=\"text-align: left;height: 2em;\">\n                    <section class=\"autonum\" style=\"box-sizing:border-box;font-size: 20px;color: #fff;text-align: center;background-image: linear-gradient(to bottom, ${colors.highlight[0]} ,${colors.highlight[1]});display: inline-block;width: 35px;height: 28px;line-height: 28px;\">\n                        <strong style='width: 100%;display: block;'>${index}</strong>\n                    </section>\n                </section>\n                <section style=\"margin-left: 10px;margin-top: -15px;\">\n                    <section data-autoskip=\"1\" class=\"mix-brush\" style=\"text-align: justify;line-height:1.75em;letter-spacing: 1.5px;font-size:14px;background: ${colors.background};padding:1.3em 1em 1em 1em;color: ${colors.font};\">\n                        <p>\n                            <strong>${title}</strong>\n                        </p>\n                        <p>${description}\n                        </p>\n                    </section>\n                    \n                </section>\n            </section>\n            \n        </section>\n    </section></section>\n`;\n}\n\n\n\n\nasync function createContent(imgs = []) {\n    let ratios = [1.1555555555555554, 1.1555555555555554, 1.3737864077669903];\n    let newImages = [];\n    for (let index = 0; index < imgs.length; index++) {\n        let im = imgs[index];\n        let img = await Lab.ui.createImage(im);\n        let canvas = await Lab.Image.smartCrop(img, 400, parseInt(400 / ratios[index]));\n        newImages.push(canvas.toDataURL());\n        // console.log(canvas)\n    };\n    imgs = newImages;\n    return `<section class=\"_design-ai-lab\" data-tools=\"mixlab无界社区\">\n    <section style=\"margin: 10px 2em;text-align: right;\">\n        <section style=\"display: flex;justify-content: center;align-items: flex-end;\">\n            <section style=\"display: flex;flex-direction: column;flex: 1;\">\n                <section style=\"display: flex;justify-content: flex-start;\">\n                    <section class=\"mix-brush\" data-brushtype=\"text\" style=\"font-size: 13px;letter-spacing: 1.5px;padding: 4px 1em;color: ${colors.font};display: inline-block;writing-mode: vertical-lr ;\">\n                        ENJOY\n                    </section>\n                </section>\n                <section style=\"display: flex;justify-content: center;align-items: center;margin-top: 1em;\">\n                    <section style=\"box-sizing:border-box;width: 100%;margin-right: 20px;\" data-width=\"100%\">\n                        <img style=\"box-sizing:border-box;width: 100%;display: block;\" src=\"${imgs[0]}\" data-ratio=\"1.1555555555555554\" data-w=\"135\" data-width=\"100%\"/>\n                    </section>\n                    <section style=\"box-sizing:border-box;width: 100%;margin-right: 10px;\" data-width=\"100%\">\n                        <img style=\"box-sizing:border-box;width: 100%;display: block;\" src=\"${imgs[1]}\" data-ratio=\"1.1555555555555554\" data-w=\"135\" hm_fix=\"325:318\" data-width=\"100%\"/>\n                    </section>\n                </section>\n                <section style=\"display: flex;justify-content: flex-start;margin-top: 1em;\">\n                    <section style=\"box-sizing:border-box;width: 10%;height: 4px;background:${colors.highlight[0]};\" data-width=\"10%\"></section>\n                </section>\n            </section>\n            <section style=\"box-sizing:border-box;width: 40%;\" data-width=\"40%\">\n                <section class=\"assistant\" style=\"display: flex;justify-content: flex-end;\">\n                    <section style=\"box-sizing:border-box;width: 10%;height: 4px;background:${colors.highlight[1]};\" data-width=\"10%\"></section>\n                </section>\n                <section style=\"box-sizing:border-box;width: 100%;margin-top: 20px;\" data-width=\"100%\">\n                    <img style=\"box-sizing:border-box;width: 100%;display: block;\" src=\"${imgs[2]}\" data-ratio=\"1.3737864077669903\" data-w=\"206\" data-width=\"100%\"/>\n                </section>\n            </section>\n        </section>\n    </section>\n</section>\n`;\n}\n\n\n\nfunction createGraph() {\n    var links = [], nodes = [], tags = {}, categories = [];\n\n    for (let id in dataset) {\n        let data = dataset[id];\n        if (!categories.includes(data.author)) categories.push(data.author);\n        Array.from(data.tags, t => {\n            if (!tags[t.keyword]) tags[t.keyword] = 0;\n            tags[t.keyword] += t.weight;\n        })\n    };\n    let tagsList = [];\n    for (const keyword in tags) {\n        tagsList.push({\n            weight: tags[keyword],\n            keyword\n        });\n    };\n    tags = tagsList.sort((a, b) => b.weight - a.weight);\n    console.log(tags)\n\n    for (let id in dataset) {\n        let data = dataset[id];\n\n        nodes.push({\n            id,\n            title: data.title,\n            value: 0,\n            isMain: !!data.isMain,\n            category: categories.indexOf(data.author),\n            tags: data.tags\n        });\n    };\n\n    for (let id in dataset) {\n        let data = dataset[id];\n        Array.from(data.relate, r => {\n            let t = r.url.replace(/.*s\\?/ig, '');\n            let tid;\n            //     console.log(t);\n            for (let m in dataset) {\n                let n = dataset[m].url.replace(/.*s\\?/ig, '');\n                if (t == n) tid = m;\n            }\n            links.push({ source: id, target: tid });\n            // 计算节点权重，link越多，节点越大\n            Array.from(nodes, n => {\n                n.id == tid ? n.value++ : null;\n            })\n        })\n    };\n    return { links, nodes, categories }\n}",
  "code_length": 99,
  "size": [
    921,
    604
  ],
  "extname": "designlabplugin",
  "version": "0.2.0",
  "package_version": "0.1.2",
  "package_id": "8ca44960b468f1c14b6ed6a8ab40975b6eff8d5f",
  "dependencies": {
    "@ffmpeg-installer/ffmpeg": "^1.0.20",
    "@ffprobe-installer/ffprobe": "^1.1.0",
    "@fortawesome/fontawesome-free": "^5.15.3",
    "@hapi/hapi": "^20.1.2",
    "@node-rs/jieba": "^1.1.0",
    "@paddlejs-models/humanseg": "0.0.5",
    "@tensorflow-models/body-pix": "^2.1.0",
    "@tensorflow-models/deeplab": "^0.2.1",
    "@tensorflow-models/face-landmarks-detection": "0.0.1",
    "@tensorflow-models/knn-classifier": "^1.2.2",
    "@tensorflow-models/mobilenet": "^2.1.0",
    "@tensorflow-models/posenet": "^2.2.2",
    "@tensorflow/tfjs": "^3.3.0",
    "@tensorflow/tfjs-backend-wasm": "^3.3.0",
    "@tensorflow/tfjs-converter": "^2.8.6",
    "@tensorflow/tfjs-node": "^3.3.0",
    "about-window": "^1.14.0",
    "blockly": "^4.20201217.0",
    "color": "^3.1.3",
    "colorthief": "^2.3.2",
    "electron-json-storage": "^4.4.0",
    "escodegen": "^2.0.0",
    "espree": "^7.3.1",
    "estraverse": "^5.2.0",
    "exceljs": "^4.2.1",
    "fabric": "^4.3.1",
    "fluent-ffmpeg": "^2.1.2",
    "fomantic-ui": "^2.8.7",
    "gif.js": "^0.2.0",
    "gifuct-js": "^2.1.1",
    "idb-kv-store": "^4.5.0",
    "internal-ip": "^6.2.0",
    "jimp": "^0.16.1",
    "leader-line": "^1.0.5",
    "lowdb": "^1.0.0",
    "make-cert": "^1.2.0",
    "marked": "^1.2.9",
    "md5": "^2.3.0",
    "mime-types": "^2.1.30",
    "mkcert": "^1.4.0",
    "monaco-editor": "^0.21.3",
    "muuri": "^0.9.3",
    "ngraph.path": "^1.3.1",
    "nouislider": "^14.7.0",
    "object-hash": "^2.1.1",
    "opencvjs-dist": "^4.4.0",
    "p5": "^1.3.1",
    "p5.createloop": "^0.2.8",
    "pdfjs-dist": "^2.6.347",
    "peer": "^0.6.1",
    "peerjs": "^1.3.2",
    "recordrtc": "^5.6.2",
    "smartcrop": "^2.0.3",
    "socket.io": "^4.0.0",
    "socket.io-client": "^4.0.0",
    "spatial-db": "0.0.25",
    "sweetalert2": "^10.15.7",
    "timeago.js": "^4.0.2",
    "wordcloud": "^1.2.2",
    "yoga-layout-wasm": "^1.9.3-alpha.7",
    "zdog": "^1.1.2"
  },
  "author": "shadow",
  "create_time": 1624364994318
}