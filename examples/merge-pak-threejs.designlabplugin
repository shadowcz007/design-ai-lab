{
  "id": "f36c7cb2df27e01bec4a874afe919e3d607a3343",
  "poster": "data:image/png;base64,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",
  "title": "merge-pak-threejs",
  "knowledge": {
    "course": "- 实现小球之间的融合\n- 拓展更多可能\n- 主要参考threejs的官方实现",
    "readme": "merge-pak-threejs",
    "author": "shadow",
    "version": "0.3"
  },
  "code": "let loaded = (() => {\n  return new Promise((res, rej) => {\n    Lab.base.loadFromLocal('three/build/three.min.js').then(() => {\n      // console.log(THREE)\n      Promise.all([\n        Lab.base.loadFromLocal('three/examples/js/controls/OrbitControls.js'),\n        Lab.base.loadFromLocal('three/examples/js/objects/MarchingCubes.js'),\n        Lab.base.loadFromLocal('three/examples/js/shaders/ToonShader.js')\n      ]).then(rs => res(rs))\n    })\n  })\n})()\n\n// new Lab.Anime().init();\n\nvar container\n\nvar camera, scene, renderer\n\nvar materials, current_material\n\nvar light, pointLight, ambientLight\n\nvar effect, resolution\n\nvar effectController\n\nvar time = 0\n\nvar clock\n\n//Hello AI world!\nfunction gui() {\n  loaded.then(res => {\n    //   console.log(res)\n    clock = new THREE.Clock()\n    init()\n    animate()\n  })\n}\n\nfunction init() {\n  // CAMERA\n\n  camera = new THREE.PerspectiveCamera(\n    45,\n    window.innerWidth / window.innerHeight,\n    1,\n    10000\n  )\n  camera.position.set(-500, 500, 1500)\n\n  // SCENE\n\n  scene = new THREE.Scene()\n  scene.background = new THREE.Color(0x050505)\n\n  // LIGHTS\n\n  light = new THREE.DirectionalLight(0xffffff)\n  light.position.set(0.5, 0.5, 1)\n  scene.add(light)\n\n  pointLight = new THREE.PointLight(0xff3300)\n  pointLight.position.set(0, 0, 100)\n  scene.add(pointLight)\n\n  ambientLight = new THREE.AmbientLight(0x080808)\n  scene.add(ambientLight)\n\n  // MATERIALS\n\n  materials = generateMaterials()\n  current_material = 'shiny'\n\n  // MARCHING CUBES\n\n  resolution = 28\n\n  effect = new THREE.MarchingCubes(\n    resolution,\n    materials[current_material],\n    true,\n    true,\n    100000\n  )\n  effect.position.set(0, 0, 0)\n  effect.scale.set(700, 700, 700)\n\n  effect.enableUvs = false\n  effect.enableColors = false\n\n  scene.add(effect)\n\n  // RENDERER\n\n  renderer = new THREE.WebGLRenderer()\n  renderer.outputEncoding = THREE.sRGBEncoding\n  renderer.setPixelRatio(window.devicePixelRatio)\n  renderer.setSize(window.innerWidth, window.innerHeight)\n  Lab.ui.add(renderer.domElement)\n\n  // CONTROLS\n\n  const controls = new THREE.OrbitControls(camera, renderer.domElement)\n  controls.minDistance = 500\n  controls.maxDistance = 5000\n\n  // GUI\n\n  setupGui()\n\n  // EVENTS\n\n  window.addEventListener('resize', onWindowResize)\n}\n\n//\n\nfunction onWindowResize() {\n  camera.aspect = window.innerWidth / window.innerHeight\n  camera.updateProjectionMatrix()\n\n  renderer.setSize(window.innerWidth, window.innerHeight)\n}\n\nfunction generateMaterials() {\n  // environment map\n\n  //   const path = 'textures/cube/SwedishRoyalCastle/'\n  //   const format = '.jpg'\n  //   const urls = [\n  //     path + 'px' + format,\n  //     path + 'nx' + format,\n  //     path + 'py' + format,\n  //     path + 'ny' + format,\n  //     path + 'pz' + format,\n  //     path + 'nz' + format\n  //   ]\n\n  //   const cubeTextureLoader = new THREE.CubeTextureLoader()\n\n  //   const reflectionCube = cubeTextureLoader.load(urls)\n  //   const refractionCube = cubeTextureLoader.load(urls)\n  //   refractionCube.mapping = THREE.CubeRefractionMapping\n\n  // toons\n\n  const toonMaterial1 = createShaderMaterial(\n    THREE.ToonShader1,\n    light,\n    ambientLight\n  )\n  const toonMaterial2 = createShaderMaterial(\n    THREE.ToonShader2,\n    light,\n    ambientLight\n  )\n  const hatchingMaterial = createShaderMaterial(\n    THREE.ToonShaderHatching,\n    light,\n    ambientLight\n  )\n  const dottedMaterial = createShaderMaterial(\n    THREE.ToonShaderDotted,\n    light,\n    ambientLight\n  )\n\n  //   const texture = new THREE.TextureLoader().load('textures/uv_grid_opengl.jpg')\n  //   texture.wrapS = THREE.RepeatWrapping\n  //   texture.wrapT = THREE.RepeatWrapping\n\n  const materials = {\n    // shiny: new THREE.MeshStandardMaterial({\n    //   color: 0x550000,\n    //   envMap: reflectionCube,\n    //   roughness: 0.1,\n    //   metalness: 1.0\n    // }),\n    // chrome: new THREE.MeshLambertMaterial({\n    //   color: 0xffffff,\n    //   envMap: reflectionCube\n    // }),\n    // liquid: new THREE.MeshLambertMaterial({\n    //   color: 0xffffff,\n    //   envMap: refractionCube,\n    //   refractionRatio: 0.85\n    // }),\n    matte: new THREE.MeshPhongMaterial({ specular: 0x111111, shininess: 1 }),\n    flat: new THREE.MeshLambertMaterial({\n      /*TODO flatShading: true */\n    }),\n    // textured: new THREE.MeshPhongMaterial({\n    //   color: 0xffffff,\n    //   specular: 0x111111,\n    //   shininess: 1,\n    //   map: texture\n    // }),\n    colors: new THREE.MeshPhongMaterial({\n      color: 0xffffff,\n      specular: 0xffffff,\n      shininess: 2,\n      vertexColors: true\n    }),\n    multiColors: new THREE.MeshPhongMaterial({\n      shininess: 2,\n      vertexColors: true\n    }),\n    plastic: new THREE.MeshPhongMaterial({\n      specular: 0x888888,\n      shininess: 250\n    }),\n    toon1: toonMaterial1,\n    toon2: toonMaterial2,\n    hatching: hatchingMaterial,\n    dotted: dottedMaterial\n  }\n\n  return materials\n}\n\nfunction createShaderMaterial(shader, light, ambientLight) {\n  const u = THREE.UniformsUtils.clone(shader.uniforms)\n\n  const vs = shader.vertexShader\n  const fs = shader.fragmentShader\n\n  const material = new THREE.ShaderMaterial({\n    uniforms: u,\n    vertexShader: vs,\n    fragmentShader: fs\n  })\n\n  material.uniforms['uDirLightPos'].value = light.position\n  material.uniforms['uDirLightColor'].value = light.color\n\n  material.uniforms['uAmbientLightColor'].value = ambientLight.color\n\n  return material\n}\n\n//\n\nfunction setupGui() {\n  const createHandler = function (id) {\n    return function () {\n      current_material = id\n\n      effect.material = materials[id]\n      effect.enableUvs = current_material === 'textured' ? true : false\n      effect.enableColors =\n        current_material === 'colors' || current_material === 'multiColors'\n          ? true\n          : false\n    }\n  }\n\n  effectController = {\n    material: 'shiny',\n\n    speed: 1.0,\n    numBlobs: 10,\n    resolution: 28,\n    isolation: 80,\n\n    floor: true,\n    wallx: false,\n    wallz: false,\n\n    dummy: function () { },\n\n    Dev: () => Lab.ui.toggleDevTools()\n  }\n\n  let h\n\n  const gui = Lab.ui.createDatGUI()\n\n  // material (type)\n  gui.add(effectController, 'Dev')\n\n  h = gui.addFolder('Materials')\n\n  for (const m in materials) {\n    effectController[m] = createHandler(m)\n    h.add(effectController, m).name(m)\n  }\n\n  // simulation\n\n  h = gui.addFolder('Simulation')\n\n  h.add(effectController, 'speed', 0.1, 8.0, 0.05)\n  h.add(effectController, 'numBlobs', 1, 50, 1)\n  h.add(effectController, 'resolution', 14, 100, 1)\n  h.add(effectController, 'isolation', 10, 500, 1)\n\n  h.add(effectController, 'floor')\n  h.add(effectController, 'wallx')\n  h.add(effectController, 'wallz')\n}\n\n// this controls content of marching cubes voxel field\n\nfunction updateCubes(object, time, numblobs, floor, wallx, wallz) {\n  object.reset()\n\n  // fill the field with some metaballs\n\n  const rainbow = [\n    new THREE.Color(0xff0000),\n    new THREE.Color(0xff7f00),\n    new THREE.Color(0xffff00),\n    new THREE.Color(0x00ff00),\n    new THREE.Color(0x0000ff),\n    new THREE.Color(0x4b0082),\n    new THREE.Color(0x9400d3)\n  ]\n\n  const blobsPoint = window.createPosition(numblobs, time)\n\n  for (let index = 0; index < blobsPoint.length; index++) {\n    const { x, y, z, strength, subtract } = blobsPoint[index]\n    if (current_material === 'multiColors') {\n      object.addBall(x, y, z, strength, subtract, rainbow[index % 7])\n    } else {\n      object.addBall(x, y, z, strength, subtract)\n    }\n  }\n\n  if (floor) object.addPlaneY(2, 12)\n  if (wallz) object.addPlaneZ(2, 12)\n  if (wallx) object.addPlaneX(2, 12)\n}\n\n//\nfunction animate() {\n  requestAnimationFrame(animate)\n  render()\n}\n\nfunction render() {\n  const delta = clock.getDelta()\n\n  time += delta * effectController.speed * 0.5\n\n  // marching cubes\n\n  if (effectController.resolution !== resolution) {\n    resolution = effectController.resolution\n    effect.init(Math.floor(resolution))\n  }\n\n  if (effectController.isolation !== effect.isolation) {\n    effect.isolation = effectController.isolation\n  }\n\n  updateCubes(\n    effect,\n    time,\n    effectController.numBlobs,\n    effectController.floor,\n    effectController.wallx,\n    effectController.wallz\n  )\n\n  // render\n\n  renderer.render(scene, camera)\n}\n\nwindow.createPosition = (numblobs, time) => {\n  const subtract = 12\n  const strength = 1.2 / ((Math.sqrt(numblobs) - 1) / 4 + 1)\n\n  let points = []\n  for (let i = 0; i < numblobs; i++) {\n    const ballx =\n      Math.sin(i + 1.26 * time * (1.03 + 0.5 * Math.cos(0.21 * i))) * 0.27 + 0.5\n    const bally =\n      Math.abs(Math.cos(i + 1.12 * time * Math.cos(1.22 + 0.1424 * i))) * 0.77 // dip into the floor\n    const ballz =\n      Math.cos(i + 1.32 * time * 0.1 * Math.sin(0.92 + 0.53 * i)) * 0.27 + 0.5\n    points.push({\n      x: ballx,\n      y: bally,\n      z: ballz,\n      subtract,\n      strength\n    })\n    // if (current_material === 'multiColors') {\n    //   object.addBall(x, y, z, strength, subtract, rainbow[i % 7])\n    // } else {\n    //   object.addBall(x, y, z, strength, subtract)\n    // }\n  }\n\n  return points\n}\n\n// mixlab logo\nwindow.createPosition2 = (numblobs, time) => {\n  if (!window.strengths) {\n    window.strengths = []\n    for (let i = 1; i < numblobs; i++) {\n      strengths[i] = []\n      for (let j = 1; j < numblobs; j++) {\n        strengths[i][j] = 0.2 + Math.random()\n      }\n    }\n  }\n  let points = []\n  for (let i = 1; i < numblobs; i++) {\n    for (let j = 1; j < numblobs; j++) {\n      points.push({\n        x: i / numblobs,\n        y:\n          Math.abs(Math.cos(i + 1.12 * time * Math.cos(1.22 + 0.1424 * i))) *\n          0.77,\n        z: j / numblobs,\n        subtract: 12,\n        strength: strengths[i][j]\n      })\n    }\n  }\n  //console.log(time);\n  return points\n}\n\n\nasync function createGif(second=2) {\n  let g = new Lab.GIF()\n  for (var i = 0; i < second*12; i++) {\n    renderer.render(scene, camera)\n    let im = renderer.domElement.toDataURL();\n    let img = await Lab.Image.createImage(im);\n    g.add(img,12);\n    await Lab.base.sleep(1000 / 12)\n  }\n\n  let res = await g.render();\n  let file=Lab.ui.getFilePath(0);\n  if(file&&file[0]) Lab.base.fs.writeFileSync(file[0] + `/${(new Date()).getTime()}.gif`, Lab.Image.base642Buffer(res))\n}",
  "code_length": 114,
  "size": [
    400,
    402
  ],
  "extname": "designlabplugin",
  "version": "0.3",
  "package_version": "0.1.2",
  "package_id": "8255f6cf550e81a6c7f3ad3ca18c92229fab703c",
  "dependencies": {
    "@ffmpeg-installer/ffmpeg": "^1.0.20",
    "@ffprobe-installer/ffprobe": "^1.1.0",
    "@fortawesome/fontawesome-free": "^5.15.3",
    "@hapi/hapi": "^20.1.2",
    "@kilokilo/three-bmfont-text": "^3.1.0",
    "@mediapipe/camera_utils": "^0.3.1632432234",
    "@mediapipe/drawing_utils": "^0.3.1620248257",
    "@mediapipe/holistic": "^0.5.1635989137",
    "@node-rs/jieba": "^1.3.1",
    "@paddlejs-models/humanseg": "0.0.5",
    "@pixiv/three-vrm": "^0.6.7",
    "@tensorflow-models/body-pix": "^2.1.0",
    "@tensorflow-models/deeplab": "^0.2.1",
    "@tensorflow-models/face-landmarks-detection": "0.0.1",
    "@tensorflow-models/knn-classifier": "^1.2.2",
    "@tensorflow-models/mobilenet": "^2.1.0",
    "@tensorflow-models/posenet": "^2.2.2",
    "@tensorflow/tfjs": "^3.3.0",
    "@tensorflow/tfjs-backend-wasm": "^3.3.0",
    "about-window": "^1.14.0",
    "animejs": "^3.2.1",
    "babylonjs": "^4.2.0",
    "babylonjs-gui": "^4.2.0",
    "babylonjs-loaders": "^4.2.0",
    "color": "^3.1.3",
    "dat.gui": "^0.7.7",
    "debounce": "^1.2.1",
    "electron-json-storage": "^4.4.0",
    "electron-squirrel-startup": "^1.0.0",
    "emoji-picker-element": "^1.6.0",
    "emoji-regex": "^9.2.2",
    "espree": "^7.3.1",
    "exceljs": "^4.2.1",
    "face-api.js": "^0.22.2",
    "fluent-ffmpeg": "^2.1.2",
    "fomantic-ui": "^2.8.7",
    "gif.js": "^0.2.0",
    "gifuct-js": "^2.1.1",
    "horajs": "^0.1.3",
    "idb-kv-store": "^4.5.0",
    "internal-ip": "^6.2.0",
    "jimp": "^0.16.1",
    "kalidokit": "^1.0.5",
    "lowdb": "^1.0.0",
    "make-cert": "^1.2.0",
    "marked": "^1.2.9",
    "md5": "^2.3.0",
    "mime-types": "^2.1.34",
    "mkcert": "^1.4.0",
    "ml": "^6.0.0",
    "natural": "^5.0.3",
    "ngraph.path": "^1.3.1",
    "nouislider": "^14.7.0",
    "object-hash": "^2.1.1",
    "open-simplex-noise": "^2.5.0",
    "opencvjs-dist": "^4.4.0",
    "osc-js": "^2.1.2",
    "pdfjs-dist": "^2.6.347",
    "peer": "^0.6.1",
    "peerjs": "^1.3.2",
    "pixelit": "https://github.com/giventofly/pixelit.git",
    "qrcode": "^1.5.0",
    "recordrtc": "^5.6.2",
    "regl": "^2.1.0",
    "smartcrop": "^2.0.3",
    "socket.io": "^4.0.0",
    "socket.io-client": "^4.0.0",
    "three": "^0.134.0",
    "timeago.js": "^4.0.2",
    "unsplash-js": "^7.0.12",
    "wordcloud": "^1.2.2",
    "yoga-layout-wasm": "^1.9.3-alpha.7",
    "zdog": "^1.1.2"
  },
  "author": "shadow",
  "create_time": 1642835937936
}