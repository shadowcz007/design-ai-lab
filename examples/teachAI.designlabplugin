{
  "poster": "data:image/png;base64,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",
  "knowledge": {
    "readme": "## teachAI\n### 教AI完成xxxxx",
    "course": ""
  },
  "code": "//Hello AI world!\n\nvar layout = new Lab.Canvas(window.innerWidth, 300);\n\nvar frames = [], index = 0, className = 'NONE', modelType,info;\n\nvar knn = Lab.knn;\nknn.loadFromStore('posenet');\n\nfunction gui() {\n    Lab.ui.p5Show(false);\n\n    let newBtn = Lab.ui.createButton('新建', () => {\n    }, false);\n\n    let inputCamera = Lab.ui.createDesktopCameraInput(video => {\n        let count = 0, imgs = [];\n        Lab.ui.loading(0);\n        let capture = new DataGenerator(20, async () => {\n            count++;\n            let canvas = Lab.ui.createCanvas(video.width, video.height, null, null, true, false);\n            canvas.getContext('2d').drawImage(video, 0, 0, video.width, video.height);\n            imgs.push(canvas.toDataURL());\n            if (count > 48) {\n                capture.stop();\n                inputCamera.stop();\n                //console.log(inputCamera)\n                await doImages(imgs);\n                Lab.ui.loading(100);\n            }\n        });\n\n    });\n    let fileInput = Lab.ui.createButton('富媒体', doData, false);\n    let classNameInput = Lab.ui.createInput('text', '类别', texts => {\n        console.log(texts);\n        className = texts[0];\n    }, true, false);\n\n    let inSelect = Lab.ui.createInput('select', '模型', data => {\n        modelType = parseInt(data);\n    }, true, false);\n    inSelect.appendOptions([{\n        text: 'none',\n        value: -1\n    }, {\n        text: 'posenet',\n        value: 0\n    }]);\n\n    let addBtn = Lab.ui.createButton('标注', () => {\n        // console.log(frames[index])\n        knn.add(frames[index].feature, className);\n        knn.save('posenet');\n        console.log(knn.count())\n    }, false);\n\n    let playBtn = Lab.ui.createButton('下一帧', playStepByStep, false);\n    \n    info=Lab.ui.createBaseText('-');\n\n    let group = Lab.ui.createGroup(inSelect, inputCamera, fileInput, classNameInput, addBtn, playBtn,info);\n    Lab.ui.add(group);\n    Lab.ui.add(layout.getElement());\n}\n\nasync function doData() {\n    let ins = Lab.ui.createShortVideoInput();\n    if (ins[0] && ins[0].type === 'video') {\n        let video = ins[0];\n        let info = await Lab.video.getMediaDurationAndType(video.url);\n        // console.log(info,)\n        Lab.ui.loading(0);\n        let output = await Lab.video.videoExtract(video.url, info.width + \"x\" + info.height);\n        // console.log(info, output)\n        //output.images = output.images.slice(10, 20);\n        let images = output.images;\n        await doImages(images);\n        Lab.ui.loading(100);\n        console.log(frames)\n    } else if (ins[0] && ins[0].type === 'img') {\n        let im = ins[0];\n        Lab.ui.loading(0);\n        await doImages([im.url]);\n        Lab.ui.loading(100);\n    }\n}\n\nasync function doImages(images) {\n    frames = [];\n    for (let url of images) {\n        let img = await Lab.ui.createImage(url);\n        let pose = await Lab.ai.posenet.estimatePose(img);\n        pose.img = img;\n        // console.log(pose.dev)\n        // pose.dev = await Lab.base.createImage(pose.dev);\n        frames.push(pose)\n    };\n}\n\nasync function playStepByStep() {\n  \n    layout.reset();\n    index++;\n    if (index >= frames.length) index = 0;\n    layout.addImg(frames[index].img)\n    layout.addImg(await Lab.ui.createImage(frames[index].dev));\n    layout.zoomToFitCanvas();\n    let res = await knn.predict(frames[index].feature);\n    console.log(res);\n    info.innerText=JSON.stringify(res,null,2);\n}",
  "code_length": 39,
  "size": [
    609,
    703
  ],
  "extname": "designlabplugin",
  "version": "0.1.2",
  "package_id": "912fea7ba254e9c7c27fd07c72ac45097a9d2a12",
  "create_time": 1620396765794
}