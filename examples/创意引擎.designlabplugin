{
  "poster": "data:image/png;base64,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",
  "knowledge": {
    "course": "- 变量",
    "readme": "创意引擎",
    "author": "shadow",
    "version": "0.1.0"
  },
  "code": "var mainDiv, myCanvas;\n\n// 保存坑位\nvar cardElements = {};\n\nvar _CANVAS_WIDTH=Math.min(window.innerWidth*0.3,300),\n    _CANVAS_HEIGHT=300;\n\nfunction gui() {\n    Lab.ui.p5Show(false);\n\n    mainDiv = Lab.ui.createGroup('container');\n    Lab.ui.add(mainDiv);\n    mainDiv.style='width: 100%;';\n\n    \n    mainDiv.innerHTML=`\n    <div class=\"ui two column divided grid\">\n    <div class=\"stretched row\">\n        <div class=\"column\">\n        <div class=\"ui segment\" id='myCanvas'>\n            \n        </div>\n        </div>\n        <div class=\"column\" id='cards'>\n\n        </div>\n      \n    </div>\n    </div>`;\n\n\n    // let topDiv = Lab.ui.createGroup('grid');\n    // mainDiv.add(topDiv);\n    // // topDiv.style=`padding-left: 32px;\n    // // padding-top: 32px;`;\n\n    // let bottomDiv = Lab.ui.createGroup('row');\n    // bottomDiv.style.padding = '4em';\n    // let bottomRow = Lab.ui.createGroup('cards');\n    // mainDiv.add(bottomDiv);\n    // bottomDiv.add(bottomRow);\n\n    // // createCard(topDiv);\n    myCanvas = new Lab.Canvas(_CANVAS_WIDTH, _CANVAS_HEIGHT);\n    myCanvas.onModified = doModified;\n    myCanvas.onClick = doClick;\n    myCanvas.onRemoved = doRemoved;\n    mainDiv.querySelector('#myCanvas').appendChild(myCanvas.getElement())\n    // let myCanvasDiv=Lab.ui.createGroup('column');\n    // topDiv.add(myCanvasDiv);\n    // myCanvasDiv.add(myCanvas.getElement());\n    \n    let cardsDiv=Lab.ui.createGroup('cards');\n    mainDiv.querySelector('#cards').appendChild(cardsDiv);\n    \n\n    let addBtn = Lab.ui.createIcon('plus', () => {\n        Lab.ui.loading(0);\n        let {card,rect} = createCard(cardsDiv);\n        cardElements[card.id] = {\n            element: card,\n            rect:rect,\n            imgUrls: []\n        };\n        setTimeout(() => Lab.ui.loading(100), 200);\n    });\n    addBtn.classList.add('red');\n    addBtn.style = `\n    position:fixed;\n    right:12px;\n    top:240px;\n    `;\n\n\n    // createCard(bottomDiv);\n\n    myCanvas.addRect({ left: 0, \n        top: 0, \n        width: _CANVAS_WIDTH, \n        height: _CANVAS_HEIGHT,\n        stroke: 'black', \n        fill: 'white' }, \n        false, true, true)\n    myCanvas.zoomToFitCanvas()\n\n};\n\nfunction createCard(row) {\n    let id = (new Date()).getTime() + '' + parseInt(Math.random() * 1000);\n\n    let card = Lab.ui.createGroup('card');\n    card.addEventListener('click',e=>{\n        setActiveObject(id);\n    });\n    card.id = id;\n    row.add(card);\n\n    let text = `图片集 ${1 + Object.keys(cardElements).length}`;\n    let t = Lab.ui.createBaseText(text);\n    card.add(t);\n    t.style.margin = '1em';\n\n\n    let btn = Lab.ui.createInput('imgs', text, (imgs) => {\n        Lab.ui.loading(0);\n        console.log(id, imgs)\n        if (cardElements[id]) cardElements[id].imgUrls = imgs;\n        setTimeout(() => Lab.ui.loading(100), 3000);\n    }, true, false);\n\n    card.add(btn);\n\n    let rect = myCanvas.addRect({ \n        left: parseInt(_CANVAS_WIDTH / 2) - 100, \n        top: parseInt(_CANVAS_HEIGHT/2)-100, \n        width: 100, \n        height: 100, \n        // stroke: 'red',\n        strokeWidth:0,\n        fill: 'rgba(255,0,0,0.1)' }, true, true, true)\n    // myCanvas.zoomToFitCanvas()\n    rect.id = id;\n    \n\n    let inPos=Lab.ui.createInputForPosition((pos)=>{\n        // console.log(pos)\n        let [x,y,w,h]=pos;\n\n        rect.scaleToWidth(w);\n        rect.scaleToHeight(h);\n\n        rect.left=x;\n        rect.top=y;\n        // rect.scaleX=1;\n        // rect.scaleX=1;\n        // rect.width=w;\n        // rect.height=h;\n        rect.width=w/rect.scaleX;\n        rect.height=h/rect.scaleX;\n        \n        myCanvas.render();\n    });\n    card.add(inPos);\n    card.setValue=inPos.setValue;\n    card.getValue=inPos.getValue;\n\n    card.setValue([rect.left,rect.top,rect.width,rect.height]);\n    \n    return { card, rect }\n}\n\n\nfunction doModified(e, data) {\n    console.log(e, data)\n    e.target.id;\n    if (e.target.id && cardElements[e.target.id]) {\n        let card = cardElements[e.target.id],\n        rect=card.rect;\n        card.element.setValue([rect.left,rect.top,rect.getScaledWidth(),rect.getScaledHeight()]);\n    } \n    \n}\n\nfunction doClick(e) {\n    console.log(e.target.id)\n    if (e.target.id && cardElements[e.target.id]) {\n        let card = cardElements[e.target.id];\n        console.log(card, e.target.id)\n        card.element.classList.add('red');\n    } else {\n        for (const id in cardElements) {\n            cardElements[id].element.classList.remove('red');\n        };\n    }\n}\n\nfunction doRemoved(e) {\n    if (e.target.id && cardElements[e.target.id]) {\n        cardElements[e.target.id].element.remove();\n        delete cardElements[e.target.id];\n    };\n}\n\n// 激活\nfunction setActiveObject(id){\n    for (const id in cardElements) {\n        cardElements[id].element.classList.remove('red');\n    };\n    if(cardElements[id]){\n        let c=cardElements[id];\n        myCanvas.setActiveObject(c.rect);\n        c.element.classList.add('red');\n    };\n}",
  "code_length": 57,
  "size": [
    736,
    525
  ],
  "extname": "designlabplugin",
  "version": "0.1.0",
  "package_version": "0.1.2",
  "package_id": "8ca44960b468f1c14b6ed6a8ab40975b6eff8d5f",
  "dependencies": {
    "@ffmpeg-installer/ffmpeg": "^1.0.20",
    "@ffprobe-installer/ffprobe": "^1.1.0",
    "@fortawesome/fontawesome-free": "^5.15.3",
    "@hapi/hapi": "^20.1.2",
    "@node-rs/jieba": "^1.1.0",
    "@paddlejs-models/humanseg": "0.0.5",
    "@tensorflow-models/body-pix": "^2.1.0",
    "@tensorflow-models/deeplab": "^0.2.1",
    "@tensorflow-models/face-landmarks-detection": "0.0.1",
    "@tensorflow-models/knn-classifier": "^1.2.2",
    "@tensorflow-models/mobilenet": "^2.1.0",
    "@tensorflow-models/posenet": "^2.2.2",
    "@tensorflow/tfjs": "^3.3.0",
    "@tensorflow/tfjs-backend-wasm": "^3.3.0",
    "@tensorflow/tfjs-converter": "^2.8.6",
    "@tensorflow/tfjs-node": "^3.3.0",
    "about-window": "^1.14.0",
    "blockly": "^4.20201217.0",
    "color": "^3.1.3",
    "colorthief": "^2.3.2",
    "electron-json-storage": "^4.4.0",
    "escodegen": "^2.0.0",
    "espree": "^7.3.1",
    "estraverse": "^5.2.0",
    "exceljs": "^4.2.1",
    "fabric": "^4.3.1",
    "fluent-ffmpeg": "^2.1.2",
    "fomantic-ui": "^2.8.7",
    "gif.js": "^0.2.0",
    "gifuct-js": "^2.1.1",
    "idb-kv-store": "^4.5.0",
    "internal-ip": "^6.2.0",
    "jimp": "^0.16.1",
    "leader-line": "^1.0.5",
    "lowdb": "^1.0.0",
    "make-cert": "^1.2.0",
    "marked": "^1.2.9",
    "md5": "^2.3.0",
    "mime-types": "^2.1.30",
    "mkcert": "^1.4.0",
    "monaco-editor": "^0.21.3",
    "muuri": "^0.9.3",
    "ngraph.path": "^1.3.1",
    "nouislider": "^14.7.0",
    "object-hash": "^2.1.1",
    "opencvjs-dist": "^4.4.0",
    "p5": "^1.3.1",
    "p5.createloop": "^0.2.8",
    "pdfjs-dist": "^2.6.347",
    "peer": "^0.6.1",
    "peerjs": "^1.3.2",
    "recordrtc": "^5.6.2",
    "smartcrop": "^2.0.3",
    "socket.io": "^4.0.0",
    "socket.io-client": "^4.0.0",
    "spatial-db": "0.0.25",
    "sweetalert2": "^10.15.7",
    "timeago.js": "^4.0.2",
    "wordcloud": "^1.2.2",
    "yoga-layout-wasm": "^1.9.3-alpha.7",
    "zdog": "^1.1.2"
  },
  "author": "shadow",
  "create_time": 1624070756422
}