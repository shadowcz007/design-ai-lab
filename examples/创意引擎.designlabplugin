{
  "poster": "data:image/png;base64,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",
  "knowledge": {
    "course": "- 变量\n- 优化ui",
    "readme": "创意引擎",
    "author": "shadow",
    "version": "0.2.0"
  },
  "code": "var mainDiv, myCanvas, toolbox;\n\n// 保存坑位\nvar cardElements = {};\n\nvar _CANVAS_WIDTH = Math.min(window.innerWidth * 0.3, 300),\n    _CANVAS_HEIGHT = 300;\n\nfunction gui() {\n    Lab.ui.p5Show(false);\n\n    mainDiv = Lab.ui.createGroup('container');\n    Lab.ui.add(mainDiv);\n    mainDiv.style = 'width: 100%;';\n\n    mainDiv.innerHTML = `\n    <div class=\"ui two column divided grid\">\n        <div class=\"stretched row\">\n            <div class=\"column\">\n                <div class=\"ui segment\" id='myCanvas'></div>\n            </div>\n            <div class=\"column\" id=\"toolbox\"></div>\n        </div>\n    </div>\n    <div class=\"ui column divided grid\">\n        <div class=\"stretched row\">\n            <div class=\"column\" id='cards'></div>\n        </div>\n    </div>\n    `;\n\n\n    // let topDiv = Lab.ui.createGroup('grid');\n    // mainDiv.add(topDiv);\n    // // topDiv.style=`padding-left: 32px;\n    // // padding-top: 32px;`;\n\n    // let bottomDiv = Lab.ui.createGroup('row');\n    // bottomDiv.style.padding = '4em';\n    // let bottomRow = Lab.ui.createGroup('cards');\n    // mainDiv.add(bottomDiv);\n    // bottomDiv.add(bottomRow);\n\n    // // createCard(topDiv);\n    myCanvas = new Lab.Canvas(_CANVAS_WIDTH, _CANVAS_HEIGHT);\n    myCanvas.onModified = doModified;\n    myCanvas.onClick = doClick;\n    myCanvas.onRemoved = doRemoved;\n    mainDiv.querySelector('#myCanvas').appendChild(myCanvas.getElement())\n    // let myCanvasDiv=Lab.ui.createGroup('column');\n    // topDiv.add(myCanvasDiv);\n    // myCanvasDiv.add(myCanvas.getElement());\n\n    let cardsDiv = Lab.ui.createGroup('cards');\n    mainDiv.querySelector('#cards').appendChild(cardsDiv);\n\n    toolbox = createToolbox();\n    mainDiv.querySelector('#toolbox').appendChild(toolbox);\n\n\n    let addBtn = Lab.ui.createIcon('plus', () => {\n        Lab.ui.loading(0);\n        let { card, rect } = createCard(cardsDiv);\n        cardElements[card.id] = {\n            element: card,\n            rect: rect,\n            imgUrls: []\n        };\n        setTimeout(() => Lab.ui.loading(100), 200);\n    });\n    addBtn.classList.add('red');\n    addBtn.style = `\n    position:fixed;\n    right:12px;\n    top:240px;\n    `;\n\n\n    // createCard(bottomDiv);\n\n    myCanvas.addRect({\n        left: 0,\n        top: 0,\n        width: _CANVAS_WIDTH,\n        height: _CANVAS_HEIGHT,\n        stroke: 'black',\n        fill: 'white'\n    },\n        false, true, true)\n    myCanvas.zoomToFitCanvas()\n\n};\n\nfunction createCard(row) {\n    let id = (new Date()).getTime() + '' + parseInt(Math.random() * 1000);\n\n    let card = Lab.ui.createGroup('card');\n    card.style.width = 'min-content';\n    card.addEventListener('click', e => {\n        setActiveObject(id);\n        toolbox.update();\n    });\n    card.id = id;\n    row.add(card);\n\n    let text = `图片集 ${1 + Object.keys(cardElements).length}`;\n    let t = Lab.ui.createBaseText(text);\n    card.add(t);\n    t.style.margin = '1em';\n\n    // img\n    let imgBtn = Lab.ui.createInput('imgs', text, (imgs) => {\n        Lab.ui.loading(0);\n        console.log(id, imgs)\n        if (cardElements[id]) cardElements[id].imgUrls = imgs;\n        setTimeout(() => Lab.ui.loading(100), 3000);\n    }, true, false);\n    card.add(imgBtn);\n\n    // emoji\n    let emojiDiv=Lab.ui.createGroup('column');\n    emojiDiv.style.display='flex';\n    let emojiBtn=Lab.ui.createIcon('plus',()=>{\n        let e=Lab.ui.createBaseText(Lab.base.shuffle(Lab.emoji.order())[0]);\n        emojiDiv.add(e);\n    });\n    emojiDiv.add(emojiBtn);\n    // let emojiBtn = Lab.ui.createInput('text',text, (emoji) => {\n    //     Lab.ui.loading(0);\n    //     console.log(id, emoji)\n    //     if (cardElements[id]) cardElements[id].emoji = emoji;\n    //     setTimeout(() => Lab.ui.loading(100), 3000);\n    // }, true, false);\n    // emojiBtn.style=`width:120px;height:120px`;\n    card.add(emojiDiv);\n\n    // color\n    let colorDiv=Lab.ui.createGroup('column');\n    let colorBtn=Lab.ui.createIcon('plus',()=>{\n        let e=Lab.ui.createInput('color', text+colorDiv.children.length, (color) => {});\n        colorDiv.add(e);\n    });\n    colorDiv.add(colorBtn);\n    // let colorBtn = Lab.ui.createInput('color', text, (color) => {\n    //     Lab.ui.loading(0);\n    //     console.log(id, color)\n    //     if (cardElements[id]) cardElements[id].color = color;\n    //     setTimeout(() => Lab.ui.loading(100), 3000);\n    // }, true, false);\n    // colorBtn.style=`width:120px;height:120px`;\n    card.add(colorDiv);\n\n    // emojiBtn.style.display='none';\n    // colorBtn.style.display='none';\n\n    // 选项框\n    let ins=Lab.ui.createInput('select','',e=>{\n        console.log(e);\n        \n    }, true, false );\n    ins.appendOptions([{\n        value:'img',\n        text:'图片'\n    },{\n        value:'emoji',\n        text:'表情'\n    },{\n        value:'color',\n        text:'色块'\n    }]);\n    card.add(ins);\n    ins.init();\n    ins.style.marginLeft='12px';\n\n\n    // \n    let rect = myCanvas.addRect({\n        left: parseInt(_CANVAS_WIDTH / 2) - 100,\n        top: parseInt(_CANVAS_HEIGHT / 2) - 100,\n        width: 100,\n        height: 100,\n        // stroke: 'red',\n        strokeWidth: 0,\n        fill: 'rgba(255,0,0,0.1)'\n    }, true, true, true)\n    // myCanvas.zoomToFitCanvas()\n    rect.id = id;\n\n  \n\n    return { card, rect }\n}\n\nfunction createToolbox() {\n    let inPos = Lab.ui.createInputForPosition((pos) => {\n        // console.log(pos)\n        let [x, y, w, h] = pos;\n\n        let rect = myCanvas.getActiveObject();\n        rect.scaleToWidth(w);\n        rect.scaleToHeight(h);\n\n        rect.left = x;\n        rect.top = y;\n        // console.log(z);\n\n        rect.width = w / rect.scaleX;\n        rect.height = h / rect.scaleX;\n\n        myCanvas.render();\n    });\n    inPos.update = () => {\n        let rect = myCanvas.getActiveObject();\n        inPos.setValue([rect.left, rect.top, rect.getScaledWidth(), rect.getScaledHeight()]);\n    }\n    return inPos;\n}\n\n\nfunction doModified(e, data) {\n    // console.log(e, data)\n    // e.target.id;\n    if (e.target.id && cardElements[e.target.id]) {\n        toolbox.update();\n    }\n\n}\n\nfunction doClick(e) {\n    // console.log(e.target.id)\n    if (e.target.id && cardElements[e.target.id]) {\n        let card = cardElements[e.target.id];\n        // console.log(card, e.target.id)\n        card.element.classList.add('red');\n        // 更新rect信息到toolbox\n        toolbox.update();\n    } else {\n        for (const id in cardElements) {\n            cardElements[id].element.classList.remove('red');\n        };\n    }\n}\n\nfunction doRemoved(e) {\n    if (e.target.id && cardElements[e.target.id]) {\n        cardElements[e.target.id].element.remove();\n        delete cardElements[e.target.id];\n    };\n}\n\n// 激活\nfunction setActiveObject(id) {\n    for (const id in cardElements) {\n        cardElements[id].element.classList.remove('red');\n    };\n    if (cardElements[id]) {\n        let c = cardElements[id];\n        myCanvas.setActiveObject(c.rect);\n        c.element.classList.add('red');\n    };\n}",
  "code_length": 70,
  "size": [
    855,
    767
  ],
  "extname": "designlabplugin",
  "version": "0.2.0",
  "package_version": "0.1.2",
  "package_id": "1286b7f4cb3349cc173bb582671190cf54e949e5",
  "dependencies": {
    "@ffmpeg-installer/ffmpeg": "^1.0.20",
    "@ffprobe-installer/ffprobe": "^1.1.0",
    "@fortawesome/fontawesome-free": "^5.15.3",
    "@hapi/hapi": "^20.1.2",
    "@node-rs/jieba": "^1.2.0",
    "@paddlejs-models/humanseg": "0.0.5",
    "@tensorflow-models/body-pix": "^2.1.0",
    "@tensorflow-models/deeplab": "^0.2.1",
    "@tensorflow-models/face-landmarks-detection": "0.0.1",
    "@tensorflow-models/knn-classifier": "^1.2.2",
    "@tensorflow-models/mobilenet": "^2.1.0",
    "@tensorflow-models/posenet": "^2.2.2",
    "@tensorflow/tfjs": "^3.3.0",
    "@tensorflow/tfjs-backend-wasm": "^3.3.0",
    "@tensorflow/tfjs-converter": "^2.8.6",
    "@tensorflow/tfjs-node": "^3.3.0",
    "about-window": "^1.14.0",
    "blockly": "^4.20201217.0",
    "color": "^3.1.3",
    "colorthief": "^2.3.2",
    "electron-json-storage": "^4.4.0",
    "emojilib": "^3.0.2",
    "escodegen": "^2.0.0",
    "espree": "^7.3.1",
    "estraverse": "^5.2.0",
    "exceljs": "^4.2.1",
    "fabric": "^4.3.1",
    "fluent-ffmpeg": "^2.1.2",
    "fomantic-ui": "^2.8.7",
    "gif.js": "^0.2.0",
    "gifuct-js": "^2.1.1",
    "idb-kv-store": "^4.5.0",
    "internal-ip": "^6.2.0",
    "jimp": "^0.16.1",
    "leader-line": "^1.0.5",
    "lowdb": "^1.0.0",
    "make-cert": "^1.2.0",
    "marked": "^1.2.9",
    "md5": "^2.3.0",
    "mime-types": "^2.1.30",
    "mkcert": "^1.4.0",
    "monaco-editor": "^0.21.3",
    "muuri": "^0.9.3",
    "ngraph.path": "^1.3.1",
    "nouislider": "^14.7.0",
    "object-hash": "^2.1.1",
    "opencvjs-dist": "^4.4.0",
    "p5": "^1.3.1",
    "p5.createloop": "^0.2.8",
    "pdfjs-dist": "^2.6.347",
    "peer": "^0.6.1",
    "peerjs": "^1.3.2",
    "recordrtc": "^5.6.2",
    "smartcrop": "^2.0.3",
    "socket.io": "^4.0.0",
    "socket.io-client": "^4.0.0",
    "spatial-db": "0.0.25",
    "sweetalert2": "^10.15.7",
    "timeago.js": "^4.0.2",
    "unsplash-js": "^7.0.12",
    "wordcloud": "^1.2.2",
    "yoga-layout-wasm": "^1.9.3-alpha.7",
    "zdog": "^1.1.2"
  },
  "author": "shadow",
  "create_time": 1624961675694
}